Changes only in Hortonworks github and not in hadoop-2.7.3 and hence not covered
by CHANGES.txt.

  INCOMPATIBLE CHANGES

  NEW FEATURES

    YARN-5910. Support for multi-cluster delegation tokens. Contributed by Jian
    He

    YARN-4496. Improve HA ResourceManager Failover detection on the client.
    Contributed by Jian He

    YARN-5233. Support for specifying a path for ATS plugin jars. Contributed by
    Li Lu

    YARN-3623. Add a config to indicate the Timeline Service version.
    Contributed by Xuan Gong.

    YARN-4007. Add support for different network setups when launching the
    docker container. Contributed by Sidharta Seethana.

    YARN-4595. Add support for configurable read-only mounts when launching
    Docker containers. Contributed by Billie Rinaldi.

    YARN-4553. Add cgroups support for docker containers. Contributed by
    Sidharta Seethana.

    YARN-4262. Allow whitelisted users to run privileged docker containers.
    Contributed by Sidharta Seethana.

    YARN-4258. Add support for controlling capabilities for docker containers.
    Contributed by Sidharta Seethana.

    YARN-3853. Add docker container runtime support to LinuxContainterExecutor.
    Contributed by Sidharta Seethana.

    YARN-3852. Add docker container support to container-executor. Contributed
    by Abin Shahab.

    HDFS-8008. Support client-side back off when the datanodes are congested.
    (wheat9)

    HDFS-6581. Support for writing to single replica in RAM. Applied
    HDFS-6581.merge.15.patch to Champlain. This is a consolidated patch
    containing all feature changes and was applied to trunk. (Multiple
    contributors via Arpit Agarwal)

    HDFS-8009. Signal congestion on the DataNode. (wheat9)

    BUG-26128/YARN-2571 RM to support YARN registry

    YARN-3345. Add non-exclusive node label API. (Wangda Tan via jianhe)

    YARN-3365. Enhanced NodeManager to support using the 'tc' tool via
    container-executor for outbound network traffic control. (Sidharta Seethana
    via vinodkv)

    YARN-1376. NM need to notify the log aggregation status to RM through
    heartbeat. (Xuan Gong via junping_du)

    YARN-3348. Add a 'yarn top' tool to help understand cluster usage. (Varun
    Vasudev via jianhe)

    YARN-3347. Improve YARN log command to get AMContainer logs as well as
    running containers logs. (Xuan Gong via junping_du)

    YARN-3443. Create a 'ResourceHandler' subsystem to ease addition of support
    for new resource types on the NM. (Sidharta Seethana via junping_du)

    YARN-3361. CapacityScheduler side changes to support non-exclusive node
    labels. (Wangda Tan via jianhe)

    YARN-3318. Create Initial OrderingPolicy Framework and FifoOrderingPolicy.
    (Craig Welch via wangda)

    YARN-3326. Support RESTful API for getLabelsToNodes. (Naganarasimha G R
    via ozawa)

    YARN-3354. Add node label expression in ContainerTokenIdentifier to support
    RM recovery. (Wangda Tan via jianhe)

    YARN-1402. Update related Web UI and CLI with exposing client API to check
    log aggregation status. (Xuan Gong via junping_du)

    YARN-3463. Integrate OrderingPolicy Framework with CapacityScheduler.
    (Craig Welch via wangda)

    YARN-3410. YARN admin should be able to remove individual application
    records from RMStateStore. (Rohith Sharmaks via wangda)

    YARN-3225. New parameter of CLI for decommissioning node gracefully in
    RMAdmin CLI. (Devaraj K via junping_du)

    YARN-3366. Enhanced NodeManager to support classifying/shaping outgoing
    network bandwidth traffic originating from YARN containers (Sidharta Seethana
    via vinodkv)

    YARN-3319. Implement a FairOrderingPolicy. (Craig Welch via wangda)

    YARN-2498. Respect labels in preemption policy of capacity scheduler for
    inter-queue preemption. (Wangda Tan via jianhe)

    YARN-2619. Added NodeManager support for disk io isolation through cgroups.
    (Varun Vasudev and Wei Yan via vinodkv)

    YARN-3448. Added a rolling time-to-live LevelDB timeline store implementation.
    (Jonathan Eagles via zjshen)

    YARN-3541. Add version info on timeline service / generic history web UI
    and REST API. (Zhijie Shen via xgong)

    YARN-3505. Node's Log Aggregation Report with SUCCEED should not cached in
    RMApps. (Xuan Gong via junping_du)

    HDFS-8155. Support OAuth2 in WebHDFS. (jghoman)

    HDFS-9184. Logging HDFS operation's caller context into audit logs.
    (Mingliang Liu via jitendra)

    BUG-46647. Enable caller context feature by default. (Mingliang liu)

    HDFS-8656. Preserve compatibility of ClientProtocol#rollingUpgrade after
    finalization.

    HDFS-9426. Rollingupgrade finalization is not backward compatible.

    HDFS-9239. DataNode Lifeline Protocol: an alternative protocol for
    reporting DataNode liveness. Contributed by Chris Nauroth.

    HADOOP-13065. Add a new interface for retrieving FS and FC Statistics
    (Mingliang Liu via cmccabe)

    HDFS-9764. DistCp doesn't print value for several arguments including
    -numListstatusThreads. (Wei-Chiu Chuang via Yongjun Zhang)

    HDFS-10397. Distcp should ignore -delete option if -diff option is provided
    instead of exiting. (Mingliang Liu via Jing Zhao)

    BUG-70505. HADOOP-12738. Create unit test to automatically compare Common
    related classes and core-default.xml. Contributed by Ray Chiang.

    BUG-70505. HADOOP-12666. Support Microsoft Azure Data Lake - as a file
    system in Hadoop. Contributed by Vishwajeet Dusane.

    BUG-70505. HADOOP-12875. [Azure Data Lake] Support for contract test and
    unit test cases. Contributed by Vishwajeet Dusane.

    BUG-70505. HADOOP-13242. Authenticate to Azure Data Lake using client ID
    and keys. Contributed by Atul Sikaria.

    BUG-70505. HADOOP-13393. Omit unsupported fs.defaultFS setting in ADLS
    documentation

    BUG-70505. HADOOP-13392. [Azure Data Lake] OAuth2 configuration should be
    default set to true when AdlFileSystem is configured. Contributed by
    Vishwajeet Dusane and Chris Douglas.

    BUG-70505. HADOOP-13037. Refactor Azure Data Lake Store as an independent
    FileSystem. Contributed by Vishwajeet Dusane

    BUG-70505. HADOOP-13257. Improve Azure Data Lake contract tests.
    Contributed by Vishwajeet Dusane

    BUG-70505. HDFS-11240. Remove snapshot version of SDK dependency from Azure
    Data Lake Store File System

    BUG-73682. Backport YARN-2009 (Capacity Scheduler Intra queue preemption) to 
    Fenton as dependency of YARN-5864. (wangda)

    BUG-73681/YARN-5864. Capacity Scheduler queue priority. (Wangda Tan)

    BUG-70505. HADOOP-13962. Update ADLS SDK to 2.1.4. (John Zhuge via lei)

    BUG-70505. HADOOP-14049. Honour AclBit flag associated to file/folder
    permission for Azure datalake account. Contributed by Vishwajeet Dusane

    BUG-70505. HADOOP-13956. Read ADLS credentials from Credential Provider.
    (John Zhuge via lei)

    BUG-70505. HADOOP-14017. User friendly name for ADLS user and group.
    Contributed by Vishwajeet Dusane

    BUG-71524. HADOOP-13930. Azure: Add Authorization support to WASB.
    Contributed by Sivaguru Sankaridurg and Dushyanth
    BUG-71524. HADOOP-13945. Azure: Add Kerberos and Delegation token support
    to WASB client. Contributed by Santhosh G Nayak

ATS V1.5:

    YARN-4233. YARN Timeline Service plugin: ATS v1.5 (Multiple contributors)

    Port YARN-3942(ATS V1.5) patch into 2.3-maint, which include the previous
    YARN-3360 Commits to fix the dependency.

    RMP-6306. HDFS-9214. Support reconfiguring
    dfs.datanode.balance.max.concurrent.moves without DN restart (Xiaobing
    Zhou)

    RMP-6306. HDFS-9414. Refactor reconfiguration of ClientDatanodeProtocol for
    reusability (Xiaobing Zhou)

    RMP-6306. HDFS-9094. Add command line option to ask NameNode reload
    configuration. (Xiaobing Zhou)

    RMP-6306. HDFS-1477. Support reconfiguring dfs.heartbeat.interval and
    dfs.namenode.heartbeat.recheck-interval without NN restart (Xiaobing Zhou)

    RMP-6306. HDFS-9349. Support reconfiguring fs.protected.directories without
    NN restart (Xiaobing Zhou)

    RMP-6306. HDFS-10209. Support enable caller context in HDFS namenode audit
    log without restart namenode (Xiaobing Zhou)

    RMP-5369. HADOOP-12909. Change ipc.Client to support asynchronous calls
    (Xiaobing Zhou)

    RMP-6306. HDFS-10207. Support enable Hadoop IPC backoff without namenode
    restart (Xiaobing Zhou)

    RMP-5369. HDFS-10224. Implement asynchronous rename for
    DistributedFileSystem (Xiaobing Zhou)

    RMP-5369. HADOOP-12957. Limit the number of outstanding async calls
    (Xiaobing Zhou)

    RMP-5369. HDFS-10346. Implement asynchronous setPermission/setOwner for
    DistributedFileSystem (Xiaobing Zhou)

    BUG-58017. HDFS-10390. Implement asynchronous setAcl/getAclStatus for
    DistributedFileSystem (Xiaobing Zhou)

  IMPROVEMENTS

    YARN-4578. Directories that are mounted in docker containers need to be more
    restrictive/container-specific. Contributed by Sidharta Seethana.

    YARN-4267. Add additional logging to container launch implementations in
    container-executor. Contributed by Sidharta Seethana.

    YARN-4253. Standardize on using PrivilegedOperationExecutor for all
    invocations of container-executor in LinuxContainerExecutor. Contributed by
    Sidharta Seethana.

    YARN-3684. Changed ContainerExecutor's primary lifecycle methods to use a
    more extensible mechanism of context objects. Contributed by Sidharta Seethana.

    YARN-4851. Metric improvements for ATS v1.5 storage components. Li Lu via
    junping_du.

    YARN-4906. Capture container start/finish time in container metrics.
    Contributed by Jian He.

    BUG-60735. HDFS-9721. Allow Delimited PB OIV tool to run upon fsimage that
    contains INodeReference (Xiao Chen)

    BUG-60272. HADOOP-12189. Improve CallQueueManager#swapQueue to make queue
    elements drop nearly impossible. (zhihai xu)

    BUG-50479. HADOOP-12672. RPC timeout should not override IPC ping interval
    (Masatake Iwasaki)

    HADOOP-10597. RPC Server signals backoff to clients when all request queues
    are full. (Ming Ma via Arpit Agarwal)

    YARN-1880. Cleanup TestApplicationClientProtocolOnHA (ozawa via harsh)

    YARN-3243. CapacityScheduler should pass headroom from parent to children
    to make sure ParentQueue obey its capacity limits. (Wangda Tan via jianhe)

    YARN-3356. Capacity Scheduler FiCaSchedulerApp should use ResourceUsage to
    track used-resources-by-label. (Wangda Tan via jianhe)

    YARN-2868. FairScheduler: Metric for latency to allocate first container
    for an application. (Ray Chiang via kasha)

    YARN-3397. yarn rmadmin should skip -failover. (J.Andreina via kasha)

    YARN-2495. Allow admin specify labels from each NM (Distributed
    configuration for node label). (Naganarasimha G R via wangda)

    YARN-3248. Display count of nodes blacklisted by apps in the web UI. (Varun
    Vasudev via xgong)

    YARN-2901. Add errors and warning metrics page to RM, NM web UI. (Varun
    Vasudev via wangda)

    YARN-3294. Allow dumping of Capacity Scheduler debug logs via web UI for a
    fixed time period. (Varun Vasudev via xgong)

    YARN-3293. Track and display capacity scheduler health metrics in web UI.
    (Varun Vasudev via xgong)

    YARN-3394. Enrich WebApplication proxy documentation. (Naganarasimha G R
    via jianhe)

    YARN-3404. Display queue name on application page. (Ryu Kobayashi via
    jianhe)

    YARN-2696. Queue sorting in CapacityScheduler should consider node label.
    (Wangda Tan via jianhe)

    YARN-3451. Display attempt start time and elapsed time on the web UI.
    (Rohith Sharmaks via jianhe)

    YARN-3494. Expose AM resource limit and usage in CS QueueMetrics. (Rohith
    Sharmaks via jianhe)

    YARN-3503. Expose disk utilization percentage and bad local and log dir
    counts in NM metrics. (Varun Vasudev via jianhe)

    YARN-3511. Add errors and warnings page to ATS. (Varun Vasudev via xgong)

    YARN-3406. Display count of running containers in the RM's Web UI. (Ryu
    Kobayashi via ozawa)

    YARN-3593. Add label-type and Improve "DEFAULT_PARTITION" in Node Labels
    Page. (Naganarasimha G R via wangda)

    YARN-3362. Add node label usage in RM CapacityScheduler web UI.
    (Naganarasimha G R via wangda)

    YARN-3565. NodeHeartbeatRequest/RegisterNodeManagerRequest should use
    NodeLabel object instead of String. (Naganarasimha G R via wangda)

    YARN-3583. Support of NodeLabel object instead of plain String in
    YarnClient side. (Sunil G via wangda)

    YARN-3581. Deprecate -directlyAccessNodeLabelStore in RMAdminCLI.
    (Naganarasimha G R via wangda)

    YARN-3700. Made generic history service load a number of latest
    applications according to the parameter or the configuration. (Xuan Gong
    via zjshen)

    BUG-42254. HDFS-8880. NameNode metrics logging. (Arpit Agarwal)

    BUG-43161. HDFS-4185. Add a metric for number of active leases (Rakesh R
    via raviprak)

    HDFS-8983. NameNode support for protected directories. (Arpit Agarwal)

    BUG-43225. HDFS-8435. Support CreateFlag in WebHDFS. (Jakob Homan via
    cdouglas)

    BUG-43612. computeReplicationWork does not record all failure paths. (Arpit
    Agarwal)

    HADOOP-11960. Enable Azure-Storage Client Side logging. (Dushyanth via
    cnauroth)

    HADOOP-10597. RPC Server signals backoff to clients when all request queues
    are full. (Ming Ma via Arpit Agarwal)

    HADOOP-12325. RPC Metrics : Add the ability track and log slow RPCs. (Anu
    Engineer via xyao)

    HADOOP-12358. Add -safely flag to rm to prompt when deleting many files.
    (xyao via wang)

    BUG-45012/HADOOP-12787. KMS SPNEGO sequence does not work with WEBHDFS.
    (xyao)

    HDFS-8432. Introduce a minimum compatible layout version to allow downgrade
    in more rolling upgrade use cases. (cnauroth)

    HDFS-4396. Add START_MSG/SHUTDOWN_MSG for ZKFC (Liang Xie via harsh)

    HDFS-6860. BlockStateChange logs are too noisy. (Chang Li and xyao via
    xyao)

    HDFS-8549. Abort the balancer if an upgrade is in progress. (wang)

    HDFS-8818. Changes the global moveExecutor to per datanode executors and
    changes MAX_SIZE_TO_MOVE to be configurable.  (szetszwo)

    HDFS-8824. Do not use small blocks for balancing the cluster.  (szetszwo)

    HDFS-8883. NameNode Metrics : Add FSNameSystem lock Queue Length. (Anu
    Engineer via xyao)

    HDFS-8278. When computing max-size-to-move in Balancer, count only the
    storage with remaining >= default block size.  (szetszwo)

    HDFS-8826. In Balancer, add an option to specify the source node list so
    that balancer only selects blocks to move from those nodes.  (szetszwo)

    HDFS-8911. NameNode Metric : Add Editlog counters as a JMX metric. (Anu
    Engineer via Arpit Agarwal)

    HDFS-7923. The DataNodes should rate-limit their full block reports by
    asking the NN on heartbeat messages (cmccabe)

    HDFS-8983. NameNode support for protected directories. (Arpit Agarwal)

    HDFS-8046. Allow better control of getContentSummary (kihwal)

    HDFS-8797. WebHdfsFileSystem creates too many connections for pread.
    (jing9)

    HDFS-8180. AbstractFileSystem Implementation for WebHdfs. (snayak via
    jghoman)

    YARN-4082. Container shouldn't be killed when node's label updated.
    Contributed by Wangda Tan.

    Backport, YARN-3197. Confusing log generated by CapacityScheduler (wangda)

    BUG-44387 Disable container stats publish to ATS by default

    YARN-3978. Configurably turn off the saving of container info in Generic
    AHS (Eric Payne via jeagles)

    YARN-4149. yarn logs -am should provide an option to fetch all the log
    files. Contributed by Varun Vasudev

    YARN-2513 Host framework UIs in YARN for use with the ATS Note: Patch is in
    progress

    YARN-2513 Host framework UIs in YARN for use with the ATS Note: Patch is in
    progress (Committing this patch to keep the 2.3-maint branch consistent
    with 2.2-maint. This commit uses the YARN-2513.v3.patch from Apache JIRA.
    The original issues is not yet closed, therefore future
    backporting/rebasing may be necessary.)

    YARN-4101. RM should print alert messages if Zookeeper and Resourcemanager
    gets connection issue. Contributed by Xuan Gong

    YARN-3360. Add JMX metrics to TimelineDataManager (Jason Lowe via jeagles)

    Merge pull request #4 from hortonworks/hadoop_vijayk_BUG-39629

    BUG-40753. Add auth-filter in NM by default

    YARN-3579. CommonNodeLabelsManager should support NodeLabel instead of
    string label name when getting node-to-label/label-to-label mappings.
    (Sunil G via wangda)

    YARN-3357. Move TestFifoScheduler to FIFO package. Contributed by Rohith
    Sharmaks.

    BUG-34399 Enable yarn recovery by default in Windows Onprem

    RMP-3532. HDFS-7858. Improve HA Namenode Failover detection on the client.
    (Arun Suresh)

    YARN-3727. For better error recovery, check if the directory exists before
    using it for localization. Contributed by Zhihai Xu

    HDFS-7928. Scanning blocks from disk during rolling upgrade startup takes a
    lot of time if disks are busy. Contributed by Rushabh Shah.

    BUG-45423. HDFS-9112. Improve error message for Haadmin when multiple name
    service IDs are configured. Contributed by Anu Engineer.

    HDFS-8965. Harden edit log reading code against out of memory errors
    (cmccabe)

    HADOOP-12350. WASB Logging: Improve WASB Logging around deletes, reads and
    writes. Contributed by Dushyanth.

    HDFS-4015. Safemode should count and report orphaned blocks. (Contributed
    by Anu Engineer)

    YARN-3480. Remove attempts that are beyond max-attempt limit from state
    store. Contributed by Jun Gong

    YARN-4584. RM startup failure when AM attempts greater than max-attempts.
    (Bibin A Chundatt via rohithsharmaks)

    YARN-4497. RM might fail to restart when recovering apps whose attempts
    are missing. (Jun Gong via rohithsharmaks)

    BUG-52450. HDFS-9790. HDFS Balancer should exit with a proper message if
    upgrade is not finalized (Xiaobing Zhou via Arpit Agarwal)

    HDFS-9839. Reduce verbosity of processReport logging. (Arpit Agarwal)

    HDFS-9906. Remove spammy log spew when a datanode is restarted.
    (Contributed by Brahma Reddy Battula)

    HDFS-9726. Refactor IBR code to a new class.  (szetszwo)

    HDFS-9710. DN can be configured to send block receipt IBRs in batches.
    (szetszwo)

    BUG-54690. HADOOP-12161. Add getStoragePolicy API to the FileSystem interface
    (Brahma Reddy Battula via Arpit Agarwal)

    BUG-54691. HDFS-8815. DFS getStoragePolicy implementation using single RPC call
    (Surendra Singh Lilhore via Vinayakumar B)

    BUG-51798. HDFS-9534. Add CLI command to clear storage policy from a path.
    (Xiaobing Zhou via Arpit Agarwal)

    HADOOP-12825. Log slow name resolutions.
    (Sidharta Seethana via stevel)

    RMP-6306. HDFS-8582. Support getting a list of reconfigurable config properties
    and do not generate spurious reconfig warnings (Lei (Eddy) Xu)

    HDFS-10312. Large block reports may fail to decode at NameNode due to 64 MB
    protobuf maximum length restriction. Contributed by Chris Nauroth.

    BUG-56634. HADOOP-13011. Clearly Document the Password Details for Keystore-based
    Credential Providers (Larry McCay)

    BUG-56634. HADOOP-11717. Add Redirecting WebSSO behavior with JWT Token in Hadoop Auth
    (Larry McCay)

    BUG-57081. HDFS-10341. Add a metric to expose the timeout number of pending
    replication blocks (Akira AJISAKA)

    YARN-5294. Pass remote ip address down to YarnAuthorizationProvider. (jianhe)

    HADOOP-13305. Define common statistics names across schemes. Contributed by
    Mingliang Liu.

    HADOOP-13280. FileSystemStorageStatistics#getLong(“readOps“) should return
    readOps + largeReadOps (Mingliang Liu via cmccabe)

    HADOOP-13283. Support reset operation for new global storage statistics
    and per FS storage stats. Contributed by Mingliang Liu.

    HDFS-10440. Improve DataNode web UI (Contributed by Weiwei Yang)

    HADOOP-13263 . Reload cached groups in background after expiry.
    (Contributed bt Stephen O'Donnell)

    HDFS-8831 . Trash Support for deletion in HDFS encryption zone. Contributed
    by Xiaoyu Yao.

    HDFS-9259 . Make SO_SNDBUF size configurable at DFSClient side for hdfs
    write scenario. (Contributed by Mingliang Liu)

    HADOOP-12291 . Add support for nested groups in LdapGroupsMapping.
    Contributed by Esther Kundin.

    HADOOP-13105 . Support timeouts in LDAP queries in LdapGroupsMapping.
    Contributed by Mingliang Liu.

    HADOOP-12782 . Faster LDAP group name resolution with ActiveDirectory.
    Contributed by Wei-Chiu Chuang

    HDFS-10493. Add links to datanode web UI in namenode datanodes page.
    Contributed by Weiwei Yang.

    HDFS-9941. Do not log StandbyException on NN, other minor logging fixes.
    (Arpit Agarwal)

    HADOOP-13470. GenericTestUtils$LogCapturer is flaky. (Contributed by Mingliang Liu)

    BUG-70331. HADOOP-13863. Azure: Add a new SAS key mode for WASB. Contributed by Dushyanth

    BUG-68464. HADOOP-13686. Adding additional unit test for Trash (I). Contributed by Weiwei Yang.
    BUG-68464. HDFS-10287. MiniDFSCluster should implement AutoCloseable. Contributed by Andras Bokor.
    BUG-68464. HDFS-10892. Add unit tests for HDFS command 'dfs -tail' and 'dfs -stat'. Contributed by Mingliang Liu
    BUG-68464. HDFS-10934. TestDFSShell#testStat fails intermittently. Contributed by Eric Badger
    BUG-68464. HDFS-10893. Refactor TestDFSShell by setting up MiniDFSCluser once for all commands test. Contributed by Mingliang Liu
    BUG-68464. HDFS-10643. [Unit Test] Namenode should use loginUser(hdfs) to generateEncryptedKey. Contributed by Xiaoyu Yao.
    BUG-68464. HDFS-10906. Add unit tests for Trash with HDFS encryption zones. Contributed by Hanisha Koneru.
    BUG-68464. HDFS-10922. Adding additional unit tests for Trash (II). Contributed by Weiwei Yang.
    BUG-68464. HDFS-10972. Add unit test for HDFS command 'dfsadmin -getDatanodeInfo'. Contributed by Xiaobing Zhou
    BUG-68464. HDFS-10965. Add unit test for HDFS command 'dfsadmin -printTopology'. Contributed by Xiaobing Zhou
    BUG-68464. HDFS-10998. Add unit tests for HDFS command 'dfsadmin -fetchImage' in HA. Contributed by Xiaobing Zhou
    BUG-68464. HDFS-11008. Change unit test for testing parsing "-source" parameter in Balancer CLI. Contributed by Mingliang Liu
    BUG-68464. HDFS-8711. setSpaceQuota command should print the available storage type when input storage type is wrong. Contributed by Brahma Reddy Battula.
    BUG-68464. HDFS-8898. Create API and command-line argument to get quota and quota usage without detailed content summary. Contributed by Ming Ma.
    BUG-68464. HDFS-10242. Cannot create space quota of zero. Contributed by Takashi Ohnishi.
    BUG-68464. HDFS-11011. Add unit tests for HDFS command 'dfsadmin -set/clrSpaceQuota'. Contributed by Xiaobing Zhou.
    BUG-68464. HDFS-11030. TestDataNodeVolumeFailure#testVolumeFailure is flaky (though passing). Contributed by Mingliang Liu
    BUG-68464. HDFS-11031. Add additional unit test for DataNode startup behavior when volumes fail. Contributed by Mingliang Liu.
    BUG-68464. HDFS-11065. Add space quota tests for heterogenous storages. Contributed by Xiaobing Zhou
    BUG-68464. HDFS-11076. Add unit test for extended Acls. Contributed by Chen Liang
    BUG-68464. HDFS-9188. Make block corruption related tests FsDataset-agnostic. (lei)
    BUG-68464. HDFS-11083. Add unit test for DFSAdmin -report command. Contributed by Xiaobing Zhou
    BUG-68464. HDFS-11085. Add unit test for NameNode failing to start when name dir is unwritable. Contributed by Xiaobing Zhou
    BUG-68464. HDFS-11122. TestDFSAdmin#testReportCommand fails due to timed out. Contributed by Yiqun Lin
    BUG-68464. HDFS-10986. DFSAdmin should log detailed error message if any. Contributed by MingLiang Liu

    BUG-76035. HADOOP-14091. AbstractFileSystem implementaion for 'wasbs'
    scheme. Contributed Varada Hemeswari.

  OPTIMIZATIONS

    HDFS-8867. Enable optimized block reports. (Daryn Sharp via jing9)

    HDFS-8856. Make LeaseManager#countPath O(1). (Arpit Agarwal)

    HADOOP-12317. Applications fail on NM restart on some linux distro
    because NM container recovery declares AM container as LOST (adhoot via rkanter)

    HADOOP-7713. dfs -count -q should label output column (Jonathan Allen
    via aw)

    HADOOP-11772. RPC Invoker relies on static ClientCache which has
    synchronized(this) blocks. (wheat9)

    HDFS-10335 Mover$Processor#chooseTarget() always chooses the first matching
    target storage group.  Contributed by  Mingliang Liu

    BUG-58017. HADOOP-13168. Support Future.get with timeout in ipc async calls
    (Tsz Wo Nicholas Sze)

    HADOOP-10035. Cleanup TestFilterFileSystem. Contributed by Suresh Srinivas.

    BUG-58017. HDFS-10431. Refactor and speedup TestAsyncDFSRename (Xiaobing Zhou)

    HDFS-8578 . On upgrade, Datanode should process all storage/data dirs in
    parallel.  Contributed by vinayakumarb and szetszwo.

  BUG FIXES

    YARN-6294. ATS client should better handle Socket closed case. Contributed
    by Li Lu.

    BUG-76401. YARN-6271. yarn rmadin -getGroups returns information from
    standby RM. Contributed by Jian He.

    BUG-63198. YARN-6082. Invalid REST api response for getApps since
    queueUsagePercentage is coming as INF. Contributed by Sunil G.

    MAPREDUCE-6565. Configuration to use host name in delegation token service
    is not read from job.xml during MapReduce job execution. Contributed by Li Lu.

    BUG-69387. YARN-4109. Exception on RM scheduler page loading with labels.
    (Mohammad Shahid Khan via rohithsharmaks)

    YARN-4204. ConcurrentModificationException in FairSchedulerQueueInfo.
    (adhoot)

    YARN-3762. FairScheduler: CME on FSParentQueue#getQueueUserAclInfo. (kasha)

    YARN-6104. RegistrySecurity overrides zookeeper sasl system properties.
    Contributed by Billie Rinaldi

    BUG-72180. Running applications information changes such as movequeue is not
    published to TimeLine server (YARN-4044).

    YARN-5923. Unable to access logs for a running application if
    YARN_ACL_ENABLE is enabled. Contributed by Xuan Gong.

    YARN-5440. Use AHSClient in YarnClient when TimelineServer is running. (Xuan
    Gong via gtcarrera9)

    YARN-5432. Lock already held by another process while LevelDB cache store
    creation for dag. Contributed by Li Lu.

    YARN-5340. Fixed a race condition in RollingLevelDBTimelineStore that caused
    loss of Timeline events. Contributed by Li Lu.

    YARN-4909. Fix intermittent failures of TestRMWebServices And
    TestRMWithCSRFFilter. Contributed by Bibin A Chundatt

    MAPREDUCE-6733. MapReduce JerseyTest tests failing with
    java.net.BindException: Address already in use. Contributed by Vinod Kumar
    Vavilapalli.

    YARN-4759. Fix signal handling for docker containers. Contributed by Shane
    Kumpf.

    YARN-5298. Mount usercache and NM filecache directories into Docker
    container. Contributed by  Sidharta Seethana.

    YARN-5299. Log Docker run command when container fails. Contributed by Varun
    Vasudev.

    YARN-5314. Fixed a ConcurrentModificationException in ATS v1.5
    EntityGroupFSTimelineStore. Contributed by Li Lu.

    YARN-4744. Too many signal to container failure in case of LCE. Contributed
    by Sidharta Seethana

    YARN-4252. Log container-executor invocation details when exit code is
    non-zero. Contributed by Sidharta Seethana.

    YARN-4762. Fixed CgroupHandler's creation and usage to avoid NodeManagers
    crashing when LinuxContainerExecutor is enabled. (Sidharta Seethana via vinodkv)

    YARN-4643. Container recovery is broken with delegating container runtime.
    Contributed by Sidharta Seethana

    YARN-4017. container-executor overuses PATH_MAX. Contributed by Sidharta
    Seethana

    YARN-3844. Make hadoop-yarn-project Native code -Wall-clean (Alan Burlison
    via Colin P. McCabe)

    YARN-4255. container-executor does not clean up docker operation command
    files. Contributed by Sidharta Seethana.

    YARN-4004. container-executor should print output of docker logs if the
    docker container exits with non-0 exit status. Contributed by Varun Vasudev

    YARN-4411. RMAppAttemptImpl#createApplicationAttemptReport throws
    IllegalArgumentException. Contributed by Bibin A Chundatt and yarntime.

    YARN-5246. NMWebAppFilter web redirects drop query parameters. Contributed
    by Varun Vasudev.

    YARN-3722. Merge multiple TestWebAppUtils into
    o.a.h.yarn.webapp.util.TestWebAppUtils. Contributed by Masatake Iwasaki.

    YARN-5237. Fix missing log files issue in rolling log aggregation.
    Contributed by Xuan Gong.

    YARN-5098. Fixed ResourceManager's DelegationTokenRenewer to replace
    expiring system-tokens if RM stops and only restarts after a long time.
    Contributed by Jian He. Made one minor edit for branch-2 patch.

    YARN-3768. ArrayIndexOutOfBoundsException with empty environment variables.
    (Zhihai Xu via gera)

    YARN-4987. Read cache concurrency issue between read and evict in
    EntityGroupFS timeline store. Contributed by Li Lu.

    YARN-4168. Fixed a failing test
    TestLogAggregationService.testLocalFileDeletionOnDiskFull. Contributed by
    Takashi Ohnishi.

    YARN-5103. With NM recovery enabled, restarting NM multiple times results in
    AM restart. Contributed by Junping Du

    YARN-5100. The YarnApplicationState is always running in ATS even
    application is finished. Contributed by Xuan Gong.

    YARN-4325. Nodemanager log handlers fail to send finished/failed events in
    some cases. Contributed by Junping Du

    YARN-4577. Enable aux services to have their own custom classpath/jar file
    (Xuan Gong via sale)

    YARN-5029. RM needs to send update event with YarnApplicationState as
    Running to ATS/AHS. Contributed by Xuan Gong.

    YARN-5002. getApplicationReport call may raise NPE for removed queues. (Jian
    He via wangda)

    YARN-4764. Application submission fails when submitted queue is not
    available in scheduler xml. Contributed by Bibin A Chundatt

    YARN-3749. We should make a copy of configuration when init MiniYARNCluster
    with multiple RMs. Contributed by Chun Chen

    YARN-4132. Separate configs for nodemanager to resourcemanager connection
    timeout and retries. Contributed by Chang Li

    YARN-4928. Some yarn.server.timeline.* tests fail on Windows attempting to
    use a test root path containing a colon. Contributed by Gergely Novák.

    YARN-4956. findbug issue on LevelDBCacheTimelineStore. (Zhiyuan Yang via
    gtcarrera9)

    YARN-3623. Addendum: Improve the description for Timeline Service Version
    configuration in yarn-default.xml

    YARN-4983. JVM and UGI metrics disappear after RM transitioned to standby
    mode

    YARN-4571. Make app id/name available to the yarn authorizer provider for
    better auditing. (Jian He via wangda)

    YARN-3963. AddNodeLabel on duplicate label addition shows success. (Bibin A
    Chundatt via wangda)

    YARN-4748. ApplicationHistoryManagerOnTimelineStore should not swallow
    exceptions on generateApplicationReport. Contributed by Li Lu

    YARN-4863. AHS Security login should be in serviceInit() instead of
    serviceStart(). Contributed by Junping Du

    YARN-4820. ResourceManager web redirects in HA mode drops query parameters.
    Contributed by Varun Vasudev.

    YARN-4596. SystemMetricPublisher should not swallow error messages from
    TimelineClient#putEntities. Contributed by Li Lu

    MAPREDUCE-6478. Add an option to skip cleanupJob stage or ignore cleanup
    failure during commitJob. (Junping Du via wangda)

    YARN-4243. Add retry on establishing Zookeeper conenction in
    EmbeddedElectorService#serviceInit. Contributed by Xuan Gong.

    BUG-76478. HDFS-11476. Fix NPE in FsDatasetImpl#checkAndUpdate (Xiaobing Zhou)

    BUG-66654. HADOOP-13546. Override equals and hashCode to avoid connection leakage
    (Xiaobing Zhou)

    BUG-62442. HADOOP-13351. TestDFSClientSocketSize buffer size tests are flaky
    (Aaron Fabbri)

    BUG-60497. HDFS-10437. ReconfigurationProtocol not covered by
    HDFSPolicyProvider. (Arpit Agarwal)

    BUG-60277. HDFS-10291. TestShortCircuitLocalRead failing
    (Steve Loughran)

    BUG-60391. HADOOP-12605. Fix intermittent failure of
    TestIPC.testIpcWithReaderQueuingi (Masatake Iwasaki)

    inserted in target server principal. (mfoley)

    BUG-5700. NameNode should shut down if out of memory error occurs.
    (cnauroth)

    HDFS-27. HDFS CLI with --config set to default config complains log file
    not found error. (cnauroth)

    BUG-34216. Support downgrade before finalize in Dal. (cnauroth)

    HDFS-7890. Improve information on Top users for metrics in
    RollingWindowsManager and lower log level. (J.Andreina via Vinayakumar B)

    BUG-39584. Fix cygwin variable in shell scripts which breaks
    RollingUpgrade. (Li Lu via jing9)

    BUG-40325. Fixed a hang problem in DistributedShell. (Varun Vasudev)

    BUG-39672. Fixed RM and JHS to always add AuthenticationFilterInitializer.
    (Jian He)

    BUG-25680. Include custom version of Jetty 6 with bug fixes. Internal only
    patch.

    HDFS-8229. LAZY_PERSIST file gets deleted after NameNode restart.
    (Contributed by Surendra Singh Lilhore)

    HDFS-8276. LazyPersistFileScrubber should be disabled if scrubber interval
    configured zero. (Contributed by Surendra Singh Lilhore)

    HDFS-8152. Refactoring of lazy persist storage cases. (Arpit Agarwal)

    HDFS-8144. Split TestLazyPersistFiles into multiple tests. (Arpit Agarwal)

    HDFS-8219. setStoragePolicy with folder behavior is different after cluster
    restart. (surendra singh lilhore via Xiaoyu Yao)

    BUG-35876. nfs server does not respect --config paramater. (HADOOP-11898)

    BUG-35227 - change service argument for JobHistoryServer from custom
    jobhistoryserver to upstream historyserver

    HDFS-8232. Missing datanode counters when using Metrics2 sink interface.
    Contributed by Anu Engineer.

    BUG-5700: Adding a similar kill script for SecondaryNameNode.

    HDFS-8205. CommandFormat#parse() should not parse option as value of
    option. (Contributed by Peter Shi and Xiaoyu Yao)

    Remove change marker from CHANGES.txt

    HDFS-8211. DataNode UUID is always null in the JMX counter. (Contributed by
    Anu Engineer)

    HDFS-7990. IBR delete ack should not be delayed. Contributed by Daryn
    Sharp.

    HDFS-7645. Fix CHANGES.txt

    HDFS-7645. Rolling upgrade is restoring blocks from trash multiple times
    (Contributed by Vinayakumar B and Keisuke Ogiwara)

    HDFS-8055. NullPointerException when topology script is missing.
    Contributed by Anu Engineer.

    HDFS-7933. fsck should also report decommissioning replicas. Contributed by
    Xiaoyu Yao.

    HDFS-6666. Abort NameNode and DataNode startup if security is enabled but
    block access token is not enabled. Contributed by Vijay Bhat.

    HADOOP-11859. PseudoAuthenticationHandler fails with httpcomponents v4.4.
    Contributed by Eugene Koifman.

    HDFS-7701. Support reporting per storage type quota and usage with
    hadoop/hdfs shell. (Contributed by Peter Shi)

    HADOOP-7713. dfs -count -q should label output column (Jonathan Allen via
    aw)

    BUG-34858 RM does not start up on Windows

    BUG-33625 RM http and https use conflicting port.

    BUG-34526 Dal MSI failed to install when HA is enabled

    HDFS-8008. Support client-side back off when the datanodes are congested.
    Contributed by Haohui Mai.

    HDFS-8009. Signal congestion on the DataNode. Contributed by Haohui Mai.

    Remove old reference to Azure SDK 0.6.0.

    YARN-3305. Normalize AM resource request on app submission. (Rohith
    Sharmaks via jianhe)

    YARN-3269. Yarn.nodemanager.remote-app-log-dir could not be configured to
    fully qualified path. (Xuan Gong via junping_du)

    YARN-3383. AdminService should use "warn" instead of "info" to log
    exception when operation fails. (Li Lu via wangda)

    YARN-3425. NPE from RMNodeLabelsManager.serviceStop when
    NodeLabelsManager.serviceInit failed. (Bibin A Chundatt via wangda)

    YARN-3435. AM container to be allocated Appattempt AM container shown as
    null. (Bibin A Chundatt via xgong)

    YARN-2666. TestFairScheduler.testContinuousScheduling fails Intermittently.
    (Zhihai Xu via ozawa)

    YARN-3110. Few issues in ApplicationHistory web ui. (Naganarasimha G R via
    xgong)

    YARN-3459. Fix failiure of TestLog4jWarningErrorMetricsAppender. (Varun
    Vasudev via wangda)

    YARN-3266. RMContext#inactiveNodes should have NodeId as map key.
    (Chengbing Liu via jianhe)

    YARN-3136. Fixed a synchronization problem of
    AbstractYarnScheduler#getTransferredContainers. (Sunil G via jianhe)

    YARN-3387. Previous AM's container completed status couldn't pass to
    current AM if AM and RM restarted during the same time. (sandflee via
    jianhe)

    YARN-3530. ATS throws exception on trying to filter results without
    otherinfo. (zhijie shen via xgong)

    YARN-2740. Fix NodeLabelsManager to properly handle node label
    modifications when distributed node label configuration enabled.
    (Naganarasimha G R via wangda)

    YARN-3517. RM web ui for dumping scheduler logs should be for admins only
    (Varun Vasudev via tgraves)

    YARN-3343. Increased TestCapacitySchedulerNodeLabelUpdate#testNodeUpdate
    timeout. (Rohith Sharmaks via jianhe)

    YARN-2821. Fixed a problem that DistributedShell AM may hang if restarted.
    (Varun Vasudev via jianhe)

    YARN-3654. ContainerLogsPage web UI should not have meta-refresh. (Xuan
    Gong via jianhe)

    YARN-3552. RM Web UI shows -1 running containers for completed apps (Rohith
    via jlowe)

    YARN-3580. [JDK8] TestClientRMService.testGetLabelsToNodes fails. (Robert
    Kanter via junping_du)

    YARN-3707. RM Web UI queue filter doesn't work. (Wangda Tan via jianhe)

    YARN-3632. Ordering policy should be allowed to reorder an application when
    demand changes. (Craig Welch via jianhe)

    YARN-2821. Fixed a problem that DistributedShell AM may hang if restarted.
    (Varun Vasudev via jianhe)

    YARN-3740. Fixed the typo in the configuration name:
    APPLICATION_HISTORY_PREFIX_MAX_APPS. (Xuan Gong via zjshen)

    YARN-2019/EAR-1682. Retrospect on decision of making RM crashed if any
    exception throw in ZKRMStateStore.

    HDFS-8722. Optimize datanode writes for small writes and flushes.
    (Contributed by Kihwal Lee)

    BUG-43165. HDFS-8863. The remaining space check in
    BlockPlacementPolicyDefault is flawed. (Kihwal Lee via Yi Liu)

    BUG-43657. HDFS-8995. Flaw in registration bookeeping can make DN die on
    reconnect. (Kihwal Lee via yliu)

    BUG-43802. HDFS-9009. Send metrics logs to NullAppender by default.
    (Arpit Agarwal)

    YARN-4087. Followup fixes after YARN-2019 regarding RM behavior when
    state-store error occurs. (Jian He via xgong)

    HDFS-8767. RawLocalFileSystem.listStatus() returns null for UNIX pipefile.

    HADOOP-12304. Applications using FileContext fail with the default file
    system configured to be wasb/s3/etc. (cnauroth)

    HADOOP-11802: DomainSocketWatcher thread terminates sometimes after there
    is an I/O error during requestShortCircuitShm (cmccabe)

    HADOOP-12052 IPC client downgrades all exception types to IOE, breaks
    callers trying to use them. (Brahma Reddy Battula via stevel)

    HADOOP-12073. Azure FileSystem PageBlobInputStream does not return -1 on
    EOF. (Ivan Mitic via cnauroth)

    HADOOP-12095. org.apache.hadoop.fs.shell.TestCount fails.
    (Brahma Reddy Battula via aajisaka)

    HADOOP-8151. Error handling in snappy decompressor throws invalid
    exceptions. (Matt Foley via harsh)

    HDFS-8384. Allow NN to startup if there are files having a lease but are not
    under construction. (jing9)

    HDFS-8309. Skip unit test using DataNodeTestUtils#injectDataDirFailure() on
    Windows. (xyao)

    HDFS-7609. Avoid retry cache collision when Standby NameNode loading edits.
    (Ming Ma via jing9)

    HDFS-8431. hdfs crypto class not found in Windows.
    (Anu Engineer via cnauroth)

    HDFS-8539. Hdfs doesnt have class 'debug' in windows.
    (Anu Engineer via cnauroth)

    HDFS-8593. Calculation of effective layout version mishandles comparison to
    current layout version in storage. (cnauroth)

    HDFS-8310. Fix TestCLI.testAll "help: help for find" on Windows.
    (Kiran Kumar M R via Xiaoyu Yao)

    HDFS-7608: hdfs dfsclient newConnectedPeer has no
    write timeout (Xiaoyu Yao via Colin P. McCabe)

    HDFS-6945. BlockManager should remove a block from excessReplicateMap and
    decrement ExcessBlocks metric when the block is removed. (aajisaka)

    HDFS-8879. Quota by storage type usage incorrectly initialized upon namenode
    restart. (xyao)

    HDFS-8932. NPE thrown in NameNode when try to get TotalSyncCount metric
    before editLogStream initialization. (Surendra Singh Lilhore via xyao)

    HDFS-8311. DataStreamer.transfer() should timeout the socket InputStream.
    (Esteban Gutierrez via Yongjun Zhang)

    HDFS-8969. Clean up findbugs warnings for HDFS-8823 and HDFS-8932.
    Contributed by Anu Engineer.

    HDFS-8850. VolumeScanner thread exits with exception if there is no block
    pool to be scanned but there are suspicious blocks. (Colin Patrick McCabe
    via yliu)

    HDFS-8542. WebHDFS getHomeDirectory behavior does not match specification.
    (Kanaka Kumar Avvaru via jghoman)

    HDFS-8885. ByteRangeInputStream used in webhdfs does not override
    available(). (Shradha Revankar via aajisaka)

    HDFS-8939. Test(S)WebHdfsFileContextMainOperations failing on branch-2.
    (Chris Nauroth via jghoman)

    YARN-3885. ProportionalCapacityPreemptionPolicy doesn't preempt if queue is
    more than 2 level. (Ajith S via wangda)

    YARN-3971. Skip RMNodeLabelsManager#checkRemoveFromClusterNodeLabelsOfQueue
    on nodelabel recovery. (Bibin A Chundatt via wangda)

    YARN-3932. SchedulerApplicationAttempt#getResourceUsageReport and UserInfo
    should based on total-used-resources. (Bibin A Chundatt via wangda)

    YARN-3894. RM startup should fail for wrong CS xml NodeLabel capacity
    configuration. (Bibin A Chundatt via wangda)

    BUG-44684 Make rollingleveldb timelinestore the default for YARN

    YARN-3896. RMNode transitioned from RUNNING to REBOOTED because its
    response id has not been reset synchronously. (Jun Gong via rohithsharmaks)

    YARN-4092. Fixed UI redirection to print useful messages when both RMs are
    in standby mode. Contributed by Xuan Gong

    BUG-28508 YARN dal windows unit test failures

    YARN-3413. Changed Nodelabel attributes (like exclusivity) to be settable
    only via addToClusterNodeLabels but not changeable at runtime. (Wangda Tan
    via vinodkv)

    BUG-45264. HADOOP-12437. Allow SecurityUtil to lookup alternate hostnames.
    (Arpit Agarwal)

    BUG-45953/HADOOP-12463. Fix TestShell.testGetSignalKillCommand failure on
    windows. (Steve Loughran/Wangda Tan)

    BUG-46171. HDFS-9178. Slow datanode I/O can cause a wrong node to
    be marked bad. (Kihwal Lee)

    BUG-45762. HDFS-4366. Block Replication Policy Implementation May
    Skip Higher-Priority Blocks for Lower-Priority Blocks. (Derek Dagit
    via Kihwal Lee)

    BUG-46757. HDFS-9305. Delayed heartbeat processing causes storm of
    subsequent heartbeats. (Arpit Agarwal)

    BUG-43821/YARN-4313. Race condition in MiniMRYarnCluster when getting
    history server address. (Jian He via Xuan Gong)

    BUG-46754. HDFS-9106. Transfer failure during pipeline recovery causes
    permanent write failures. (Kihwal Lee)

    BUG-47096. HDFS-9343. Empty caller context considered invalid.
    (Mingliang Liu via Arpit Agarwal)

    HADOOP-12186. ActiveStandbyElector shouldn't call monitorLockNodeAsync
    multiple times (zhihai xu via vinayakumarb)

    BUG-47201. Fix Debian build break in DNS.java (Arpit Agarwal)

    BUG-47467. HDFS-8785. TestDistributedFileSystem is failing in trunk.
    (Xiaoyu Yao)

    BUG-47094. HDFS-4937. ReplicationMonitor can infinite-loop in
    BlockPlacementPolicyDefault#chooseRandom. (kihwal)

    BUG-26978. HDFS-6481. DatanodeManager#getDatanodeStorageInfos() should
    check the length of storageIDs. (szetszwo via Arpit Agarwal)

    MAPREDUCE-6302. (BUG-47640) Backport preempt reducers after a configurable
    timeout irrespective of headroom. (Karthik Kambatla)

    UG-46795. YARN-3467. Expose allocatedMB, allocatedVCores, and
    runningContainers metrics on running Applications in RM Web UI. (Anubhav
    Dhoot via kasha)

    BUG-46797. YARN-4285. Display resource usage as percentage of queue and
    cluster in the RM UI (Varun Vasudev via wangda)

    BUG-46839. HDFS-7725. Incorrect "nodes in service" metrics caused all
    writes to fail. (Ming Ma via wang)

    BUG-46838. HDFS-8950. NameNode refresh doesn't remove DataNodes that are
    no longer in the allowed list. (Daniel Templeton via cmccabe)

    BUG-47823. HADOOP-12049. Control http authentication cookie persistence via
    configuration. (hzlu via benoy)

    BUG-48014. HDFS-8829. Make SO_RCVBUF and SO_SNDBUF size configurable for
    DataTransferProtocol sockets and allow configuring auto-tuning.
    (He Tianye via cmccabe)

    BUG-47731. HDFS-8099. Change "DFSInputStream has been closed already"
    message to debug log level. (Charles Lamb via Colin P. McCabe)

    BUG-48071. YARN-4140. RM container allocation delayed incase of app
    submitted to Nodelabel partition. (Bibin A Chundatt via wangda)

    YARN-3751. Fixed AppInfo to check if used resources are null. (Sunil G via
    Zhijie Shen)

    BUG-48344. YARN-3849 (Too much of preemption activity causing continuos
    killing of containers across queues) to 2.3-maint. (Sunil G via wangda)

    HBASE-268. FileNotFoundException to be thrown in Open API in WASB when file
    is deleted from different process. (Dushyanth Chickabasapa via cnauroth)

    YARN-3600. AM container link is broken (on a killed application, at least)
    (Naganarasimha G R via tgraves)

    BUG-48017. YARN-4349 YARN_APPLICATION call to ATS does not have
    YARN_APPLICATION_CALLER_CONTEXT. (wangda via Jian He)

    BUG-48221. HADOOP-12577. Bump up commons-collections version to 3.2.2 to
    address a security flaw. (Wei-Chiu Chuang via vinodkv)

    BUG-47045. HDFS-7390. Provide JMX metrics per storage type. (benoy)

    BUG-47045. HDFS-7483. Display information per tier on the Namenode UI.
    (benoy and wheat9 via wheat9)

    BUG-49006. HDFS-8209. Support different number of datanode directories
    in MiniDFSCluster. (Surendra Singh Lilhore via Vinayakumar B)

    BUG-49324. HDFS-9397. Fix typo for readChecksum() LOG.warn in
    BlockSender.java. (Enrique Flores via Arpit Agarwal)

    BUG-49337. Support node label store in non-appendable file system.
    (Wangda Tan via jianhe)

    BUG-47469. [2.3] Fix TestBalancer#testBalancerWithPinnedBlocks failure on
    2.3-maint. (xyao)

    HDFS-8809. HDFS fsck reports under construction blocks as CORRUPT.
    Contributed by Jing Zhao.

    HDFS-8930. Block report lease may leak if the 2nd full block report comes
    when NN is still in safemode (Colin P. McCabe via Jing Zhao)

    HDFS-8778. TestBlockReportRateLimiting#testLeaseExpiration can deadlock.
    (Contributed by Arpit Agarwal)

    HDFS-8969. Clean up findbugs warnings for HDFS-8823 and HDFS-8932.
    (Contributed by Anu Engineer).

    HDFS-9107. Prevent NNs unrecoverable death spiral after full GC (Daryn
    Sharp via Colin P. McCabe)

    HDFS-9128. TestWebHdfsFileContextMainOperations and
    TestSWebHdfsFileContextMainOperations fail due to invalid HDFS path on
    Windows.

    HADOOP-12438. TestLocalFileSystem tests can fail on Windows after HDFS-8767
    fix for handling pipe.

    HDFS-8846. Add a unit test for INotify functionality across a layout
    version upgrade (Zhe Zhang via Colin P. McCabe)

    HADOOP-12441. Fixed kill-command behavior to work correctly across OSes by
    using bash shell built-in. Contributed by Wangda Tan.

    HDFS-9175. Change scope of 'AccessTokenProvider.getAccessToken()' and
    'CredentialBasedAccessTokenProvider.getCredential()' abstract methods to
    public. Contributed by Santhosh Nayak.

    HADOOP-12324. Better exception reporting in SaslPlainServer.   (Mike Yoder
    via stevel)

    HADOOP-12407. Test failing: hadoop.ipc.TestSaslRPC. (stevel)

    HDFS-9082. Change the log level in WebHdfsFileSystem.initialize() from INFO
    to DEBUG. Contributed by Santhosh Nayak.

    HDFS-8554. TestDatanodeLayoutUpgrade fails on Windows. Contributed by Chris
    Nauroth.

    HADOOP-12413. AccessControlList should avoid calling getGroupNames in
    isUserInList with empty groups. Contributed by Zhihai Xu.

    HADOOP-11918. Listing an empty s3a root directory throws FileNotFound.
    Contributed by Lei (Eddy) Xu.

    HADOOP-12239. StorageException complaining " no lease ID" when updating
    FolderLastModifiedTime in WASB. Contributed by Duo Xu.

    HADOOP-12089. StorageException complaining " no lease ID" when updating
    FolderLastModifiedTime in WASB. Contributed by Duo Xu.

    BUG-41223. HDFS-8696. Make the lower and higher watermark in the DN Netty
    server configurable. (Xiaobing Zhou)

    BUG-43036. HDFS-8855. Webhdfs client leaks active NameNode connections.
    (Xiaobing Zhou)

    HADOOP-11098. [JDK8] Max Non Heap Memory default changed between JDK7 and
    8.

    HDFS-9220. Reading small file (< 512 bytes) that is open for append fails
    due to incorrect checksum. Contributed by Jing Zhao.

    HDFS-9063. Correctly handle snapshot path for getContentSummary.
    Contributed by Jing Zhao.

    HDFS-9205. Do not schedule corrupt blocks for replication.  (szetszwo)

    HADOOP-12484. Single File Rename Throws Incorrectly In Potential Race
    Condition Scenarios. Contributed by Gaurav Kanade.

    HDFS-9273. ACLs on root directory may be lost after NN restart. Contributed
    by Xiao Chen.

    HADOOP-11628. SPNEGO auth does not work with CNAMEs in JDK8.  (Daryn Sharp
    via stevel).

    HDFS-9019. Adding informative message to sticky bit permission denied
    exception. Contributed by Xiaoyu Yao.

    HDFS-9142. Separating Configuration object for namenode(s) in
    MiniDFSCluster. (Siqi Li via mingma)

    HDFS-9311. Support optional offload of NameNode HA service health checks to
    a separate RPC server. Contributed by Chris Nauroth.

    HDFS-9083. Replication violates block placement policy. Contributed by
    Rushabh Shah.

    HADOOP-12533. Introduce FileNotFoundException in WASB for read and seek
    API. Contributed by Dushyanth.

    HADOOP-11685. StorageException complaining "no lease ID" during HBase
    distributed log splitting. Contributed by Duo Xu.

    HADOOP-12508. delete fails with exception when lease is held on blob.
    Contributed by Gaurav Kanade.

    HADOOP-12542. TestDNS fails on Windows after HADOOP-12437. Contributed by
    Chris Nauroth.

    HDFS-9362. TestAuditLogger#testAuditLoggerWithCallContext assumes Unix line
    endings, fails on Windows. Contributed by Chris Nauroth.

    HADOOP-12440. TestRPC#testRPCServerShutdown did not produce the desired
    thread states before shutting down. (Xiao Chen via mingma)

    HADOOP-12540. TestAzureFileSystemInstrumentation#testClientErrorMetrics
    fails intermittently due to assumption that a lease error will be thrown.
    Contributed by Gaurav Kanade.

    HDFS-9008. Balancer#Parameters class could use a builder pattern. (Chris
    Trezzo via mingma)

    HDFS-9354. Fix TestBalancer#testBalancerWithZeroThreadsForMove on Windows.
    Contributed by Xiaoyu Yao.

    HDFS-9384. TestWebHdfsContentLength intermittently hangs and fails due to
    TCP conversation mismatch between client and server. Contributed by Chris
    Nauroth.

    HADOOP-12334. Change Mode Of Copy Operation of HBase WAL Archiving to bypass
    Azure Storage Throttling after retries. Contributed by Gaurav Kanade.

    HDFS-9413. getContentSummary() on standby should throw StandbyException.
    (Brahma Reddy Battula via mingma)

    HADOOP-11932. MetricsSinkAdapter may hang  when being stopped. Contributed
    by Brahma Reddy Battula.

    HDFS-9434. Recommission a datanode with 500k blocks may pause NN for 30
    seconds for printing info log messags. (Tsz Wo Sze)

    HDFS-9294. DFSClient deadlock when close file and failed to renew lease.
    Contributed by Brahma Reddy Battula

    BUG-47469. [2.3] Fix TestBalancer#testBalancerWithPinnedBlocks failure on
    2.3-maint. Contributed by Xiaoyu Yao.

    BUG-49321. HDFS-9364. Unnecessary DNS resolution attempts when
    creating NameNodeProxies. (Xiao Chen via zhz)

    YARN-4288. Fixed RMProxy to retry on IOException from local host.
    (Junping Du via jianhe)

    YARN-4345. yarn rmadmin -updateNodeResource doesn't work (Junping Du via
    jlowe)

    YARN-4347. Resource manager fails with Null pointer exception. (Jian He via
    wangda)

    YARN-2194. Fix bug causing CGroups functionality to fail on RHEL7.
    (Wei Yan via vvasudev)

    YARN-4384. updateNodeResource CLI should not accept negative values for resource.
    (Junping Du via wangda)

    YARN-3766. Fixed the apps table column error of generic history web UI.
    (Xuan Gong via zjshen)

    MAPREDUCE-6273. HistoryFileManager should check whether summaryFile exists to
    avoid FileNotFoundException causing HistoryFileInfo into MOVE_FAILED state.
    (zhihai xu via devaraj)

    MAPREDUCE-6549. multibyte delimiters with LineRecordReader cause
    duplicate records (wilfreds via rkanter)

    MAPREDUCE-5485. Allow repeating job commit by extending OutputCommitter API
    (Junping Du via jianhe)

    YARN-4405/BUG-49337. Support node label store in non-appendable file system.
    (Wangda Tan via jianhe)

    YARN-3604. removeApplication in ZKRMStateStore should also disable watch.
    (Zhihai Xu via jianhe)

    YARN-3987. am container complete msg ack to NM once RM receive it.
    (sandflee via jianhe)

    MAPREDUCE-6566. Add retry support to mapreduce CLI tool.
    (Varun Vasudev via xgong)

    YARN-4309. Add container launch related debug information to container logs
    when a container fails. (Varun Vasudev via wangda)

    HDFS-9358. TestNodeCount#testNodeCount timed out. (Masatake Iwasaki via
    waltersu4549)

    HADOOP-10406. TestIPC.testIpcWithReaderQueuing may fail. Contributed by
    Xiao Chen.

    HDFS-8729. Fix TestFileTruncate#testTruncateWithDataNodesRestartImmediately
    which occasionally failed. (Walter Su via jing9)

    HADOOP-12551. Introduce FileNotFoundException for WASB FileSystem API
    (Dushyanth via cnauroth)

    HADOOP-12608. Fix exception message in WASB when connecting with anonymous
    credential. (Dushyanth via xyao)

    HADOOP-12678. Handle empty rename pending metadata file during atomic rename
    in redo path. (Madhumita Chakraborty via cnauroth)

    BUG-49702(YARN-4392). ApplicationCreatedEvent event time resets after RM
    restart/failover. Contributed by Naganarasimha G R and Xuan Gong

    YARN-4565. (BUG-50408) Sometimes when sizeBasedWeight FairOrderingPolicy
    is enabled, under stress appears that cluster is virtually in deadlock.
    (Wangda Tan via jianhe)

    HDFS-9672. o.a.h.hdfs.TestLeaseRecovery2 fails intermittently (Mingliang Liu
    via jitendra)

    BUG-51889. HDFS-9406. FSImage may get corrupted after deleting snapshot.
    (yzhang)

    MAPREDUCE-6618. YarnClientProtocolProvider leaking the YarnClient
    thread.(xgong)

    MAPREDUCE-6621. Memory Leak in JobClient#submitJobInternal(). (xgong)

    YARN-4625. Make ApplicationSubmissionContext and
    ApplicationSubmissionContextInfo more consistent. (xgong)

    BUG-52418(YARN-4680) Fix TimerTasks leak in ATS V1.5 Writer. (xgong)

    BUG-51879. HDFS-8113. Add check for null BlockCollection pointers
    in BlockInfoContiguous structures. (Chengbing Liu via Colin P. McCabe)

    BUG-51426. HDFS-9574. Reduce client failures during datanode restart.
    (kihwal)

    BUG-51442. HDFS-9655. NN should start JVM pause monitor before
    loading fsimage. (John Zhuge via lei)

    BUG-51436. HDFS-9557. Reduce object allocation in PB conversion.
    (Daryn Sharp via cnauroth).

    BUG-51439. HDFS-9445. Datanode may deadlock while handling a bad
    volume. (Walter Su via kihwal)

    BUG-51423. HDFS-8647. Abstract BlockManager's rack policy into
    BlockPlacementPolicy. (Brahma Reddy Battula via Zhe Zhang)

    BUG-51423. HDFS-9313. Possible NullPointerException in BlockManager if no
    excess replica can be chosen. (Ming Ma)

    HDFS-9600. Do not check replication if the block is under
    construction. (Phil Yang via vinayakumarb)

    BUG-52495. HDFS-9347. Invariant assumption in
    TestQuorumJournalManager.shutdown() is wrong (Wei-Chiu Chuang)

    BUG-52169. HDFS-9752. Permanent write failures may happen to slow writers
    during datanode rolling upgrades (Walter Su)

    BUG-52355. HDFS-9661. Deadlock in DN.FsDatasetImpl between
    moveBlockAcrossStorage moveBlockAcrossStorage and createRbw. (ade via
    vinayakumarb)

    BUG-52294. HDFS-9625. set replication for empty file  failed when
    set storage policy (DENG FEI via Vinayakumar B)

    HADOOP-12103. Small refactoring of DelegationTokenAuthenticationFilter to
    allow code sharing. (Yongjun Zhang)

    HDFS-8337. Accessing httpfs via webhdfs doesn't work from a jar with
    kerberos. (Yongjun Zhang)

    BUG-52769. HADOOP-1023. Add more logging in WASB page blob read
    function. (Duo Xu via Arpit Agarwal)

    BUG-53573. HADOOP-12107. long running apps may have a huge number of
    StatisticsData instances under FileSystem (Sangjin Lee via Ming Ma)

    BUG-53573. HADOOP-12829. StatisticsDataReferenceCleaner swallows interrupt
    exceptions (Gregory Chanan via cmccabe)

    BUG-54854. YARN-4785. Inconsistent value type of the "type" field for
    LeafQueueInfo in response of RM REST API. (Varun Vasudev via junping_du)

    BUG-55061. YARN-4709. NMWebServices produces incorrect JSON for containers.
    Contributed by Varun Saxena.

    BUG-53291. YARN-4737. Add CSRF filter support in YARN (Varun Vasudev via
    Jon Maron)

    BUG-55570. YARN-4811. Generate histograms in ContainerMetrics for actual
    container resource usage

    BUG-53811(YARN-4817). TimelineClient ATSv1.5 logging is very noisy.
    Contributed by Xuan Gong

    YARN-4814. ATS 1.5 timelineclient impl call flush after every event write.
    Contributed by Xuan Gong

    YARN-4815. ATS 1.5 timelineclinet impl try to create attempt directory for
    every event call. Contributed by Xuan Gong

    BUG-55052/YARN-4365: FileSystemNodeLabelStore should check for root dir
    existence on startup. (Kuhu Shukla)

    BUG-54854. YARN-4785. Inconsistent value type of the "type" field for
    LeafQueueInfo in response of RM REST API. (Varun Vasudev via junping_du)

    BUG-55061. YARN-4709. NMWebServices produces incorrect JSON for containers.
    Contributed by Varun Saxena.

    BUG-55054. YARN-4439. Clarify NMContainerStatus#toString method. (Jian He
    via xgong)

    YARN-4623.
    TestSystemMetricsPublisher#testPublishAppAttemptMetricsForUnmanagedAM fails
    with NPE on branch-2.7. (Naganarasimha G R via junping_du)

    BUG-55475. YARN-4916. TestNMProxy.tesNMProxyRPCRetry fails. Contributed by
    Tibor Kiss.

    BUG-55333. MAPREDUCE-6460.
    TestRMContainerAllocator.testAttemptNotFoundCausesRMCommunicatorException
    fails. Contributed by Zhihai Xu. (cherry picked from commit
    e3ace31e2b7e3a8dc6cf3dc044d5ef2a9aa12e29)

    BUG-55060. YARN-3102. Decommisioned Nodes not listed in Web UI. (Kuhu
    Shukla via jlowe)

    BUG-55058. YARN-4598. Invalid event: RESOURCE_FAILED at
    CONTAINER_CLEANEDUP_AFTER_KILL. (tangshangwen via jlowe)

    BUG-55059. YARN-4428. Redirect RM page to AHS page when AHS turned on and
    RM page is not available. (Chang Li via jlowe)

    BUG-55056. YARN-4414. Nodemanager connection errors are retried at multiple
    levels. (Chang Li via jlowe)

    BUG-55055. YARN-3695. ServerProxy (NMProxy, etc.) shouldn't retry forever
    for non network exception. (Raju Bairishetti via jlowe)

    BUG-55053. YARN-4422. Generic AHS sometimes doesn't show started, node, or
    logs on App page. (Eric Payne via jeagles)

    BUG-54771. YARN-4546. YARN-4546. ResourceManager crash due to scheduling
    opportunity overflow. (Jason Lowe via junping_du)

    BUG-54770. YARN-2046. Out of band heartbeats are sent only on container
    kill and possibly too early. (Ming Ma via jlowe)

    BUG-54769. MAPREDUCE-6492. AsyncDispatcher exit with NPE on
    TaskAttemptImpl#sendJHStartEventForAssignedFailTask. (Bibin A Chundatt via
    jlowe)

    BUG-54768. MAPREDUCE-6577. MR AM unable to load native library without
    MR_AM_ADMIN_USER_ENV set. (sjlee)

    BUG-54764. MAPREDUCE-6436. JobHistory cache issue. (Kai Sasaki via zxu)

    BUG-53494. MAPREDUCE-6635. Unsafe long to int conversion in
    UncompressedSplitLineReader and IndexOutOfBoundsException. (junping_du)

    BUG-55507. YARN-4769. Add support for CSRF header in the dump capacity
    scheduler logs and kill app buttons in RM web UI.

    HADOOP-12903. IPC Server should allow suppressing exception logging by type,

    BUG-53803. HADOOP-12903. IPC Server should allow suppressing exception
    logging by type, not log 'server too busy' messages. (Arpit Agarwal)

    HDFS-9851. NameNode throws NPE when setPermission is called on a path that
    does not exist. (Brahma Reddy Battula via aajisaka)

    HDFS-9290. DFSClient#callAppend() is not backward compatible for slightly
    older NameNodes. (Tony Wu via kihwal)

    BUG-53156. HDFS-8659. Block scanner INFO message is spamming logs.
    (Yongjun Zhang)

    BUG-53156. HDFS-9402. Switch DataNode.LOG to use slf4j. (Walter Su)

    BUG-53162. HADOOP-10365. BufferedOutputStream in FileUtil#unpackEntries()
    should be closed in finally block. (Kiran Kumar M R and Sanghyun Yun
    via ozawa)

    BUG-53174. HADOOP-12374. Description of hdfs expunge command is confusing.
    (Weiwei Yang)

    HDFS-8676. Delayed rolling upgrade finalization can cause heartbeat
    expiration. (Walter Su via kihwal)

    HDFS-9289. Make DataStreamer#block thread safe and verify genStamp in
    commitBlock. (Chang Li via kihwal)

    HADOOP-12589. Fix intermittent test failure of TestCopyPreserveFlag
    (iwasakims)

    HDFS-9431. DistributedFileSystem#concat fails if the target path is
    relative. (Kazuho Fujii via aajisaka)

    HADOOP-12213. Interrupted exception can occur when Client#stop is called.
    Contributed by Kuhu Shukla.

    HDFS-8891. HDFS concat should keep srcs order. (Yong Zhang via jing9)

    BUG-53173. HDFS-9383. TestByteArrayManager#testByteArrayManager fails.
    Contributed by Tsz Wo Nicholas Sze. (cherry picked from commit
    ef926b2e3824475581454c1e17a0d7c94529efde)

    HDFS-8772. Fix TestStandbyIsHot#testDatanodeRestarts which occasionally fails.
    (Walter Su via wang).

    BUG-53159. HDFS-8806. Inconsistent metrics: number of missing blocks with
    replication factor 1 not properly cleared (Zhe Zhang via Akira AJISAKA)

    BUG-51433. HDFS-9572. Prevent DataNode log spam if a client connects on the
    data transfer port but sends no data. Contributed by Chris Nauroth

    BUG-51433. HDFS-10199. Unit tests TestCopyFiles, TestDistCh, TestLogalyzer
    under org.apache.hadoop.tools are failing. Contributed by Tibor Kiss.

    BUG-53169. HDFS-9221. HdfsServerConstants#ReplicaState#getState should avoid
    calling values() since it creates a temporary array. (Staffan Friberg via
    yliu) (cherry picked from commit 0ff1216100d16cfa862854a89cd1be8969b0bd7e)

    BUG-51424. HDFS-9314. Improve BlockPlacementPolicyDefault's picking of
    excess replicas. Contributed by Xiao Chen.

    BUG-53176. HADOOP-12348. MetricsSystemImpl creates MetricsSourceAdapter with
    wrong time unit parameter. (zxu via rkanter)

    BUG-52156. HDFS-9724. Degraded performance in WebHDFS listing as it does not reuse
    ObjectMapper. Contributed by Akira Ajisaka.

    BUG-53157. HADOOP-12191. Bzip2Factory is not thread safe. Contributed by
    Brahma Reddy Battula.

    BUG-54932. HDFS-6101. TestReplaceDatanodeOnFailure fails occasionally. Contributed by
    Wei-Chiu Chuang.

    BUG-52620. HDFS-9768. Reuse ObjectMapper instance in HDFS to improve the performance.
    Contributed by Lin Yiqun.

    HADOOP-12958. PhantomReference for filesystem statistics can trigger OOM. 

    HDFS-9478. Reason for failing ipc.FairCallQueue contruction should
    be thrown. (Ajith S via Arpit Agarwal)

    BUG-55060. ARN-3102. Decommisioned Nodes not listed in Web UI. (Kuhu Shukla
    via jlowe)

    YARN-4723. NodesListManager$UnknownNodeId ClassCastException. (Kuhu Shukla
    via jlowe)

    BUG-55058. YARN-4598. Invalid event: RESOURCE_FAILED at
    CONTAINER_CLEANEDUP_AFTER_KILL. (tangshangwen via jlowe)

    BUG-55059. YARN-4428. Redirect RM page to AHS page when AHS turned on and
    RM page is not available. (Chang Li via jlowe)

    BUG-55057. YARN-4610: Reservations continue looking for one app causes
    other apps to starve. (Jason Lowe)

    BUG-55056. YARN-4414. Nodemanager connection errors are retried at multiple
    levels. (Chang Li via jlowe)

    BUG-55055. YARN-3695. ServerProxy (NMProxy, etc.) shouldn't retry forever
    for non network exception. (Raju Bairishetti via jlowe)

    BUG-55053. YARN-4422. Generic AHS sometimes doesn't show started, node, or
    logs on App page. (Eric Payne via jeagles)

    BUG-54771. YARN-4546. YARN-4546. ResourceManager crash due to scheduling
    opportunity overflow. (Jason Lowe via junping_du)

    BUG-54770. YARN-2046. Out of band heartbeats are sent only on container
    kill and possibly too early. (Ming Ma via jlowe)

    BUG-54769. MAPREDUCE-6492. AsyncDispatcher exit with NPE on
    TaskAttemptImpl#sendJHStartEventForAssignedFailTask. (Bibin A Chundatt via
    jlowe)

    BUG-54768. MAPREDUCE-6577. MR AM unable to load native library without
    MR_AM_ADMIN_USER_ENV set. (sjlee)

    BUG-54764. MAPREDUCE-6436. JobHistory cache issue. (Kai Sasaki via zxu)

    BUG-53494. MAPREDUCE-6635. Unsafe long to int conversion in
    UncompressedSplitLineReader and IndexOutOfBoundsException. (junping_du)

    BUG-55443. YARN-4696. TimelineClient to add flush operation for
    deterministic writes (including testing) and Changes to
    EntityGroupFSTimelineStore for testability. (stevel)

    BUG-53291. YARN-4737. Add CSRF filter support in YARN (Varun Vasudev via
    Jon Maron)

    BUG-55473. HDFS-9130. Use GenericTestUtils#setLogLevel to the logging
    level. Contributed by Mingliang Liu.
    
    BUG-55580. HDFS-9072. Fix random failures in TestJMXGet. (J. Andreina via
    kihwal)

    BUG-55580. HDFS-9743. Fix TestLazyPersistFiles#testFallbackToDiskFull in
    branch-2.7. (kihwal)

    BUG-55475. HADOOP-11212. NetUtils.wrapException to handle SocketException
    explicitly. (Contributed by Steve Loughran)

    BUG-55580. HDFS-9740. Use a reasonable limit in DFSTestUtil.waitForMetric()
    (Contributed by Chang Li)

    RMP-6306. HDFS-7833. DataNode reconfiguration does not recalculate valid
    volumes required, based on configured failed volumes tolerated. (Lei (Eddy)
    Xu)

    RMP-6306. HDFS-9801. ReconfigurableBase should update the cached
    configuration (Arpit Agarwal)

    HDFS-10281. TestPendingCorruptDnMessages fails intermittently. Contributed
    by Mingliang Liu.

    YARN-3941. Proportional Preemption policy should try to avoid sending
    duplicate PREEMPT_CONTAINER event to scheduler. (Sunil G via wangda)

    YARN-3026. Move application-specific container allocation logic from
    LeafQueue to FiCaSchedulerApp. Contributed by Wangda Tan

    YARN-3966. Fix excessive loggings in CapacityScheduler. (Jian He via
    wangda)

    YARN-3961. Expose pending, running and reserved containers of a queue in
    REST api and yarn top (adhoot via asuresh)

    YARN-3873. PendingApplications in LeafQueue should also use OrderingPolicy.
    (Sunil G via wangda)

    YARN-1462. AHS API and other AHS changes to handle tags for completed MR jobs. 
    Contributed by Xuan Gong

    YARN-3543. ApplicationReport should be able to tell whether the
    Application is AM managed or not. Contributed by Rohith Sharma K S

    YARN-3948. Display Application Priority in RM Web UI.(Sunil G via rohithsharmaks)

    YARN-4023. Publish Application Priority to TimelineServer. (Sunil G via rohithsharmaks)

    YARN-3717. Expose app/am/queue's node-label-expression to RM web UI / CLI / REST-API. 
    (Naganarasimha G R via wangda)

    YARN-3635. Refactored current queue mapping implementation in
    CapacityScheduler to use a generic PlacementManager framework. Contributed
    by Wangda Tan

    YARN-4215. RMNodeLabels Manager Need to verify and replace node labels for
    the only modified Node Label Mappings in the request. (Naganarasimha G R
    via wangda)

    YARN-2392. Add more diags about app retry limits on AM failures.
    Contributed by Steve Loughran

    YARN-4000. RM crashes with NPE if leaf queue becomes parent queue during
    restart. Contributed by Varun Saxena

    YARN-4162. CapacityScheduler: Add resource usage by partition and queue
    capacity by partition to REST API. (Naganarasimha G R via wangda)

    YARN-3785. Support for Resource as an argument during submitApp call in
    MockRM test class. Contributed by Sunil G

    YARN-3216. Max-AM-Resource-Percentage should respect node labels. (Sunil G
    via wangda)

    YARN-3983. Refactored CapacityScheduleri#FiCaSchedulerApp to easier extend
    container allocation logic. Contributed by Wangda Tan

    YARN-4026. Refactored ContainerAllocator to accept a list of priorites
    rather than a single priority. Contributed by Wangda Tan

    Pulled common changes of scheduler from YARN-1651 to erie. (wangda)

    YARN-4287. Capacity Scheduler: Rack Locality improvement (Nathan Roberts
    via wangda)

    YARN-3769. Consider user limit when calculating total pending resource for
    preemption policy in Capacity Scheduler. (Eric Payne via wangda)

    YARN-3946. Update exact reason as to why a submitted app is in ACCEPTED
    state to app's diagnostic message. (Naganarasimha G R via wangda)

    YARN-4225. Add preemption status to yarn queue -status for capacity
    scheduler. (Eric Payne via wangda)

    YARN-4416. Deadlock due to synchronised get Methods in AbstractCSQueue.
    (Naganarasimha G R via wangda)

    YARN-4454. NM to nodelabel mapping going wrong after RM restart. (Bibin A
    Chundatt via wangda)

    YARN-4315. NaN in Queue percentage for cluster apps page. (Bibin A Chundatt
    via wangda)

    YARN-4290. Add -showDetails option to YARN Nodes CLI to print all nodes
    reports information. (Sunil G via wangda)

    YARN-4535. Fix checkstyle error in CapacityScheduler.java (Naganarasimha G
    R via rohithsharmaks)

    YARN-4479. Change CS LeafQueue pendingOrderingPolicy to hornor recovered
    apps. Contributed by Rohith Sharma K S

    YARN-4522. Queue acl can be checked at app submission. (Jian He via wangda)

    YARN-3986. getTransferredContainers in AbstractYarnScheduler should be
    present in YarnScheduler interface. (Rohith)

    YARN-4502. Fix two AM containers get allocated when AM restart. 
    (Vinod Kumar Vavilapalli via wangda)

    YARN-4557. Fix improper Queues sorting in PartitionedQueueComparator when 
    accessible-node-labels=*. (Naganarasimha G R via wangda)

    YARN-4418. AM Resource Limit per partition can be updated to ResourceUsage
    as well. (Sunil G via wangda)

    YARN-4304. AM max resource configuration per partition to be
    displayed/updated correctly in UI and in various partition related metrics.
    (Sunil G via wangda)

    YARN-4617. LeafQueue#pendingOrderingPolicy should always use fixed ordering
    policy instead of using same as active applications ordering policy.
    Contributed by Rohith Sharma K S

    YARN-4108. CapacityScheduler: Improve preemption to only kill containers
    that would satisfy the incoming request. (Wangda Tan)

    YARN-4822. Refactor existing Preemption Policy of CS for easier adding new
    approach to select preemption candidates. Contributed by Wangda Tan

    HADOOP-12716. KerberosAuthenticator#doSpnegoSequence use incorrect class to
    determine isKeyTab in JDK8. (Xiaoyu Yao via cnauroth)

    HADOOP-13026. Should not wrap IOExceptions into a AuthenticationException in 
    KerberosAuthenticator. Contributed by Xuan Gong.

    YARN-4955. Add retry for SocketTimeoutException in TimelineClient.
    Contributed by Xuan Gong.

    BUG-56474. HADOOP-12609. Fix intermittent failure of TestDecayRpcScheduler.
    (Contributed by Masatake Iwasaki)

    BUG-56476. HADOOP-12699. TestKMS#testKMSProvider intermittently fails during
    'test rollover draining'. Contributed by Xiao Chen.

    BUG-55494. HADOOP-11901. BytesWritable fails to support 2G chunks due to
    integer overflow. (Reynold Xin via wheat9)

    YARN-4634. Scheduler UI/Metrics need to consider cases like non-queue label
    mappings. (Sunil G via wangda)

    YARN-4607. Pagination support for AppAttempt page TotalOutstandingResource
    Requests table. Contributed by Bibin A Chundatt

    YARN-4966. Improve yarn logs to fetch container logs without specifying nodeId. Contributed by Xuan Gong.

    YARN-4746. yarn web services should convert parse failures of appId,
    appAttemptId and containerId to 400. Contributed by Bibin A Chundatt

    YARN-4920. ATS/NM should support a link to dowload/get the logs in text format. Contributed by Xuan Gong.

    YARN-4905. Improved "yarn logs" command-line to optionally show log metadata also. Contributed by Xuan Gong.

    YARN-4842. Fixed "yarn logs" command to guess (and thus not require) the appOwner argument
    when viewing another user's logs. Contributed by Ram Venkatesh and Xuan Gong.

    YARN-5080. Cannot obtain logs using YARN CLI -am for either KILLED or
    RUNNING AM. Contributed by Xuan Gong

    YARN-4913. Yarn logs should take a -out option to write to a directory. Contributed by Xuan Gong.

    YARN-5115. Avoid setting CONTENT-DISPOSITION header in the container-logs web-service.
    Contributed by Xuan Gong.

    YARN-5089. Improve "yarn log" command-line "logFiles" option to support
    regex. Contributed by Xuan Gong

    YARN-5141. Get Container logs for the Running application from Yarn Logs CommandLine. Contributed by Xuan Gong.

    YARN-5088. Improve "yarn log" command-line to read the last K bytes for the log files. Contributed by Xuan Gong

    YARN-5199. Close LogReader in in AHSWebServices#getStreamingOutput and
    FileInputStream in NMWebServices#getLogs. Contributed by Xuan Gong

    YARN-5191. Renamed the newly added “download=true” option for getting logs via NMWebServices
    and AHSWebServices to be a better "format" option. (Xuan Gong via vinodkv)

    YARN-5122. "yarn logs" for running containers should print an explicit footer saying
    that the log may be incomplete. Contributed by Jian He.

    YARN-5223. Container line in yarn logs output for a live application should include
    the hostname for the container. Contributed by Xuan Gong.

    YARN-5083. YARN CLI for AM logs does not give any error message if entered invalid am value. Contributed by Jian He.

    YARN-5251. Yarn CLI to obtain App logs for last 'n' bytes fails. Contributed by Xuan Gong.

    YARN-5266. Wrong exit code while trying to get app logs using regex via CLI. Contributed by Xuan Gong

    YARN-5227. Yarn logs command: no need to specify applicationId when
    specifying containerId. Contributed by Gergely Novák

    YARN-5224. Added new web-services /containers/{containerid}/logs & /containers/{containerid}/logs/{filename}
    and using them in "yarn logs" CLI to get logs of finished containers of a running application. Contributed by Xuan Gong.

    YARN-5200. Enhanced "yarn logs" to be able to get a list of containers whose logs are aggregated
    via a "show_container_log_info" option. Contributed by Xuan Gong.

    YARN-5363. For AM containers, or for containers of running-apps, "yarn logs" incorrectly only
    (tries to) shows syslog file-type by default. (Contributed by Vinod Kumar Vavilapalli)

    YARN-5339. Passing file to -out for YARN log CLI doesnt give warning or error code. Contributed by Xuan Gong.

    YARN-5226. Remove AHS enable check from LogsCLI#fetchAMContainerLogs. Contributed by Xuan Gong.

    YARN-5213. Fix a bug in LogCLIHelpers which cause TestLogsCLI#testFetchApplictionLogs fails intermittently.
    Contributed by Xuan Gong.

    YARN-5470. Differentiate exactly match with regex in yarn log CLI. Contributed by Xuan Gong.

    YARN-5523. Yarn running container log fetching causes OutOfMemoryError (Xuan Gong via Varun Saxena)

    YARN-4699. Scheduler UI and REST o/p is not in sync when
    -replaceLabelsOnNode is used to change label of a node. (Sunil G via
    wangda)

    YARN-3215. Respect labels in CapacityScheduler when computing headroom.
    (Naganarasimha G R via wangda)

    YARN-4865. Track Reserved resources in ResourceUsage and QueueCapacities.
    (Sunil G via wangda)

    YARN-4934. Reserved Resource for QueueMetrics needs to be handled correctly
    in few cases. (Sunil G via wangda)

    YARN-4890. Unit test intermittent failure:
    TestNodeLabelContainerAllocation#testQueueUsedCapacitiesUpdate. (Sunil G
    via wangda)

    YARN-4846. Fix random failures for TestCapacitySchedulerPreemption
    #testPreemptionPolicyShouldRespectAlreadyMarkedKillableContainers. (Bibin A
    Chundatt via wangda)

    YARN-4390. Do surgical preemption based on reserved container in
    CapacityScheduler. Contributed by Wangda Tan

    YARN-4984. LogAggregationService shouldn't swallow exception in handling
    createAppDir() which cause thread leak. (Junping Du via wangda)

    BUG-57007. HDFS-9917. IBR accumulate more objects when SNN was down for
    sometime. (Contributed by Brahma Reddy Battula)

    YARN-3521. Support return structured NodeLabel objects in REST API. (Sunil
    G via wangda)

    YARN-4667. RM Admin CLI for refreshNodesResources throws NPE when nothing
    is configured. (Contributed by Naganarasimha G R)

    YARN-998. Keep NM resource updated through dynamic resource config for
    RM/NM restart. (Contributed by Junping Du.)

    HADOOP-13084. Fix ASF License warnings in branch-2.7. (Brahma Reddy Battula
    via Akira Ajisaka)

    BUG-56662. NMs going OutOfMemory because ContainerMetrics leak in
    ContainerMonitorImpl. (Junping Du via wangda)

    BUG-57946. HDFS-9226. Unit Tests failing due to mockito version issue.
    (Contributed by Josh Elser)

    BUG-54408. YARN-4832. NM side resource value should get updated if change
    applied in RM side. (Junping Du via jian)

    HADOOP-13140. FileSystem#initialize must not attempt to create
    StorageStatistics objects with null or empty schemes (Mingliang Liu via
    cmccabe)

    MAPREDUCE-6514. Job hangs as ask is not updated after ramping down of all
    reducers. (wangda)

    MAPREDUCE-6689. MapReduce job can infinitely increase number of reducer
    resource requests. (wangda)

    BUG-55185. YARN-5076. YARN web interfaces lack XFS (Cross-Frame Script)
    protection. (Jon Maron via junping_du)

    HDFS-10424. DatanodeLifelineProtocol not able to use under security cluster
    (cnauroth)

    HDFS-10438. When NameNode HA is configured to use the lifeline RPC server,
    it should log the address of that server. (cnauroth)

    HADOOP-12767. Update apache httpclient version to 4.5.2; httpcore to 4.4.4.
    (Artem Aliev via stevel)

    HADOOP-11262. Enable YARN to use S3A. (Pieter Reuse via lei)

    BUG-58444. Fix 8 test failures in TestRMWebServicesApps. (Junping Du).

    BUG-58445. YARN-4417. Make RM and Timeline-server REST APIs more
    consistent. (Wangda Tan via jian)

    BUG-48217/YARN-5112. Excessive log warnings for directory permission issue
    on NM recovery. (jianhe via Junping Du)

    BUG-58470. Fix 3 UT test failures in TestRMWebServicesCapacitySched.
    (junping_du)

    BUG-58511. YARN-4893. Fix intermittent failures in TestRMAdminService.
    (Brahma Reddy Battula via junping_du)

    HADOOP-12074. in Shell.java#runCommand() rethrow InterruptedException as
    InterruptedIOException (Lavkesh Lahngir via vinayakumarb)

    HADOOP-12269. Update aws-sdk dependency to 1.10.6
    (Thomas Demoor via Lei (Eddy) Xu)

    HADOOP-12346. Increase some default timeouts / retries for S3a connector.
    (Sean Mackrory via Lei (Eddy) Xu)

    HADOOP-12292. Make use of DeleteObjects optional.
    (Thomas Demoor via stevel)

    HADOOP-11687. Ignore x-* and response headers when copying an Amazon S3
    object. Contributed by Aaron Peterson and harsh.

    HADOOP-12963 Allow using path style addressing for accessing the s3
    endpoint. (Stephen Montgomery via stevel)

    HADOOP-12891. S3AFileSystem should configure Multipart Copy threshold and
    chunk size. (Andrew Olson via stevel)

    HADOOP-12982 Document missing S3A and S3 properties.
    (Wei-Chiu Chuang via stevel)

    HADOOP-13122 Customize User-Agent header sent in HTTP requests by S3A.
    Chris Nauroth via stevel.

    HADOOP-13116 Jets3tNativeS3FileSystemContractTest does not run.

    HADOOP-12045. Enable LocalFileSystem#setTimes to change atime.
    Contributed by Kazuho Fujii.

    HADOOP-12258. Need translate java.nio.file.NoSuchFileException to
    FileNotFoundException to avoid regression. Contributed by Zhihai Xu.

    HADOOP-12169 ListStatus on empty dir in S3A lists itself instead of
    returning an empty list. author: Pieter Reuse.

    HADOOP-13028 add low level counter metrics for S3A; use in read performance
    tests. contributed by: stevel
    patch includes

    HADOOP-12844 Recover when S3A fails on IOException in read()

    HADOOP-13058 S3A FS fails during init against a read-only FS if multipart purge

    HADOOP-13047 S3a Forward seek in stream length to be configurable

    HADOOP-13113 Enable parallel test execution for hadoop-aws.
    Chris Nauroth via stevel

    HADOOP-13163 Reuse pre-computed filestatus in Distcp-CopyMapper
    (Rajesh Balamohan via stevel)

    HADOOP-13158 S3AFileSystem#toString might throw NullPointerException due to
    null cannedACL. (Chris Nauroth via stevel)

    HADOOP-12723 S3A: Add ability to plug in any AWSCredentialsProvider.
    Contributed by Steven Wong.

    HADOOP-13183. S3A proxy tests fail after httpclient/httpcore upgrade.
    Contributed by Steve Loughran.

    HADOOP-13130. s3a failures can surface as RTEs, not IOEs. (Steve Loughran)

    HADOOP-13145 In DistCp, prevent unnecessary getFileStatus call when not
    preserving metadata. Contributed by Chris Nauroth.

    BUG-55291. HDFS-10223. peerFromSocketAndKey performs SASL exchange before
    setting connection timeouts

    BUG-58029. YARN-5131. Distributed shell AM fails when extra container
    arrives during finishing. Wangda Tan via junping_du.

    BUG-58627. YARN-1556. NPE getting application report with a null appId.
    (Weiwei Yang via junping_du)

    BUG-56869. HDFS-9902. Support different values of dfs.datanode.du.reserved
    per storage type. (Contributed by Brahma Reddy Battula)

    BUG-58692. Fix test failure due to NPE issues in TestRMWebAppFairScheduler.
    (junping_du)

    BUG-58693. Fix test timeout issue in TestSchedulingPolicy. (junping_du)

    BUG-58701. YARN-4155.
    TestLogAggregationService.testLogAggregationServiceWithInterval failing.

    BUG-58771. DShell AM fails with 'java.lang.NoClassDefFoundError'

    BUG-18218. YARN-3846. RM Web UI queue filter is not working for sub queue.
    Contributed by Mohammad Shahid Khan'

    HADOOP-12689. S3 filesystem operations stopped working correctly (Matt
    Paduano via raviprak)

    HADOOP-12696. Add tests for S3Filesystem Contract (Matt Paduano via
    raviprak)

    HADOOP-12801. Suppress obsolete S3FileSystem tests. (cnauroth)

    BUG-58131. HADOOP-13138. Unable to append to a SequenceFile with
    Compression.NONE. (Vinayakumar B)

    HDFS-10277. PositionedReadable test testReadFullyZeroByteFile failing in
    HDFS. Contributed by Steve Loughran.

    BUG-55949. HDFS-9476. TestDFSUpgradeFromImage#testUpgradeFromRel1BBWImage
    occasionally fail (Masatake Iwasaki)

    BUG-59214. YARN-5190. Registering/unregistering container metrics triggered
    by ContainerEvent and ContainersMonitorEvent are conflict which cause
    uncaught exception in ContainerMonitorImpl. (Junping Du via jian)

    HDFS-10415. TestDistributedFileSystem#MyDistributedFileSystem attempts to
    set up statistics before initialize() is called (Mingliang Liu via cmccabe)

    HADOOP-13171. Add StorageStatistics to S3A; instrument some more
    operations. Contributed by Steve Loughran.

    YARN-4844. Add getMemorySize/getVirtualCoresSize to
    o.a.h.y.api.records.Resource. (wangda)

    BUG-59397. HDFS-10485. Fix findbugs warning in FSEditLog.java (Akira
    AJISAKA)

    BUG-50479. HADOOP-11252. RPC client does not time out by default (Masatake
    Iwasaki)

    HADOOP-13241. document s3a better. Contributed by Steve Loughran.

    HADOOP-13288. Guard null stats key in FileSystemStorageStatistics
    (Mingliang Liu via Colin P. McCabe)

    HADOOP-13291. Probing stats in DFSOpsCountStatistics/S3AStorageStatistics
    should be correctly implemented. Contributed by Mingliang Liu.

    HADOOP-3733. "s3x:" URLs break when Secret Key contains a slash, even if
    encoded. Contributed by Steve Loughran.

    HADOOP-13287. TestS3ACredentials#testInstantiateFromURL fails if AWS secret
    key contains +. Contributed by Chris Nauroth.

    MAPREDUCE-6639. Process hangs in LocatedFileStatusFetcher if FileSystem.get
    throws. (Ryan Blue via stevel)

    HADOOP-12472. Make GenericTestUtils.assertExceptionContains robust. (Steve
    Loughran via jing9)

    MAPREDUCE-6197. Cache MapOutputLocations in ShuffleHandler. (Junping Du via
    jian)

    BUG-55339. MAPREDUCE-6672. TestTeraSort fails on Windows. Contributed by
    Tibor Kiss.

    HDFS-10556. DistCpOptions should be validated automatically. Contributed by
    Mingliang Liu.

    HADOOP-12636. Prevent ServiceLoader failure init for unused FileSystems.
    (Inigo Goiri via cdouglas)

    HADOOP-13203. S3a: Consider reducing the number of connection aborts by
    setting correct length in s3 request. Contributed by Rajesh Balamohan and
    Steve Loughran.

    BUG-59045. MAPREDUCE-6543. Migrate MR Client test cases part 2.

    BUG-59897. YARN-5214. Fixed locking in DirectoryCollection to avoid hanging
    NMs when various code-paths hit slow disks. (Junping Du via vinodkv)

    YARN-5296. NMs going OutOfMemory because ContainerMetrics leak in
    ContainerMonitorImpl. (Junping Du via jian)

    BUG-56284. HDFS-10309. Balancer doesn't honor dfs.blocksize value defined
    with suffix k(kilo), m(mega), g(giga) (Amit Anand)

    BUG-61736. Bad local dir/Bad log dir is not displayed in metrics. (Jian He
    via junping_du)

    HDFS-9428. Fix intermittent failure of
    TestDNFencing.testQueueingWithAppend. (Masatake Iwasaki via waltersu4549)

    HDFS-9549. TestCacheDirectives#testExceedsCapacity is flaky (Xiao Chen via
    cmccabe)

    BUG-61637. YARN-5337. Fix Dshell OOM issues. (Jian He via junping_du)

    YARN-3021. YARN's delegation-token handling disallows certain trust setups
    to operate properly over DistCp. (Yongjun Zhang via jianhe)

    YARN-5048. DelegationTokenRenewer#skipTokenRenewal may throw NPE. (Jian He
    via Yongjun Zhang)

    BUG-60790. YARN-5297. Avoid printing a stack trace when recovering an app
    after the RM restarts. (Junping Du)

    BUG-61921. MAPREDUCE-6593.
    TestJobHistoryEventHandler.testTimelineEventHandling fails because of NPE.
    (Naganarasimha G R)

    HADOOP-12964. Http server vulnerable to clickjacking

    HADOOP-13352. Make X-FRAME-OPTIONS configurable in HttpServer2. Contributed
    by Anu Engineer.

    HDFS-10579. HDFS web interfaces lack configs for X-FRAME-OPTIONS
    protection. Contributed by Anu Engineer.

    BUG-62045. YARN-4633. TestRMRestart.testRMRestartAfterPreemption fails
    intermittently.

    BUG-61987. HFDS-9137 should be backported correctly.
    
    YARN-5270. Solve miscellaneous issues caused by YARN-4844. (wangda via
    jianhe)

    BUG-62047. YARN-5023.
    TestAMRestart#testShouldNotCountFailureToMaxAttemptRetry random failure.

    BUG-62176. YARN-4573. Fix test failure in
    TestRMAppTransitions#testAppRunningKill and testAppKilledKilled. (Takashi
    Ohnishi via rohithsharmaks)

    BUG-62180. YARN-3433. Jersey tests failing with Port in Use -again. (Brahma
    Reddy Battula)

    BUG-62180. HADOOP-12259. Utility to Dynamic port allocation (brahmareddy
    via rkanter)

    BUG-62186. MAPREDUCE-6579. TestNetworkedJob.testNetworkedJob failed due to
    YARN-3946.

    BUG-62187. TestNodesListManager.testNodeUsableEvent. (Junping Du)

    BUG-62212. Backport HDFS-8915 to fix intermittent UT failure
    o.a.h.hdfs.server.namenode.TestFSNamesystem#testFSLockGetWaiterCount

    HADOOP-11613 . Remove commons-httpclient dependency from hadoop-azure.
    Contributed by Masatake Iwasaki.

    HADOOP-12711 . Remove dependency on commons-httpclient for ServletUtil
    (Wei-Chiu Chuang via iwasakims)

    HADOOP-13350 . Additional fix to LICENSE and NOTICE. Contributed by Xiao
    Chen.

    HDFS-10488 . Update WebHDFS documentation regarding CREATE and MKDIR
    default permissions. Contributed by Wellington Chevreuil.

    HADOOP-13251 . Authenticate with Kerberos credentials when renewing KMS
    delegation token. Contributed by Xiao Chen.

    HADOOP-13155 . Implement TokenRenewer to renew and cancel delegation tokens
    in KMS. Contributed by Xiao Chen.

    HADOOP-12962 . KMS key names are incorrectly encoded when creating key.
    Contributed by Xiao Chen.

    HADOOP-12901 . Add warning log when KMSClientProvider cannot create a
    connection to the KMS server. (Xiao Chen via wang)

    HADOOP-12893 . Update LICENSE.txt and NOTICE.txt

    HADOOP-12947 . Update documentation Hadoop Groups Mapping to add static
    group mapping, negative cache. Contributed by Wei-Chiu Chuang.

    BUG-60868 . DFSClient and DFSOutputStream should set TCP_NODELAY on sockets
    for DataTransferProtocol. (Gary Helmling)

    HDFS-10469 . Add number of active xceivers to datanode metrics. Contributed
    by Hanisha Koneru.

    HADOOP-13192 . org.apache.hadoop.util.LineReader cannot handle multibyte
    delimiters correctly. Contributed by binde.

    HADOOP-13270 . BZip2CompressionInputStream finds the same compression
    marker twice in corner case, causing duplicate data blocks. Contributed by
    Kai Sasaki.

    HADOOP-12526 . there are duplicate dependency definitions in pom's (sjlee)

    HDFS-8581 . ContentSummary on / skips further counts on yielding lock
    (contributed by J.Andreina)

    HDFS-10474 . hftp copy fails when file name with Chinese+special char in
    branch-2 (Contributed by Brahma Reddy Battula)

    HDFS-9905 . WebHdfsFileSystem#runWithRetry should display original stack
    trace on error. (Wei-Chiu Chuang via iwasakims)

    HDFS-10458 . getFileEncryptionInfo should return quickly for non-encrypted
    cluster.

    HDFS-8548 . Minicluster throws NPE on shutdown. Contributed by surendra
    singh lilhore.

    HADOOP-12893 . Update LICENSE.txt and NOTICE.txt"

    BUG-59248 . Fix failing test case
    TestLdapGroupsMapping#testLdapReadTimeout"

    BUG-59248 . Fix failing test case TestLdapGroupsMapping#testLdapReadTimeout

    HADOOP-12893 . Update LICENSE.txt and NOTICE.txt

    HDFS-9530 . ReservedSpace is not cleared for abandoned Blocks (Contributed
    by Brahma Reddy Battula)

    HADOOP-13285 . DecayRpcScheduler MXBean should only report decayed
    CallVolumeSummary. Contributed by Xiaoyu Yao.

    HDFS-7166 . SbNN Web UI shows #Under replicated blocks and #pending
    deletion blocks. Contributed by Wei-Chiu Chuang.

    HADOOP-13255 . KMSClientProvider should check and renew tgt when doing
    delegation token operations. Contributed by Xiao Chen.

    HADOOP-12001 . Fixed LdapGroupsMapping to include configurable Posix UID
    and GID attributes during the search. Contributed by Patrick White.

    HADOOP-12793 . Write a new group mapping service guide (Wei-Chiu Chuang via
    iwasakims)

    HADOOP-12568 . Update core-default.xml to describe posixGroups support.
    Contributed by Wei-Chiu Chuang.

    HADOOP-9477 . Add posixGroups support for LDAP groups mapping service.
    (Dapeng Sun via Yongjun Zhang)

    HADOOP-12537  S3A to support Amazon STS temporary credentials. Contributed
    by Sean Mackrory.

    HADOOP-13237 : s3a initialization against public bucket fails if caller
    lacks any credentials. Contributed by Chris Nauroth

    HADOOP-12807  S3AFileSystem should read AWS credentials from environment
    variables. Contributed by Tobin Baker.

    HDFS-7978 . Add LOG.isDebugEnabled() guard for some LOG.debug(..).
    Contributed by Walter Su.

    HDFS-8964 . When validating the edit log, do not read at or beyond the file
    offset that is being written (Zhe Zhang via Colin P. McCabe)

    HDFS-8709 . Clarify automatic sync in FSEditLog#logEdit.

    HADOOP-10300 . Allowed deferred sending of call responses. (Daryn Sharp via
    yliu)

    HDFS-10508 . DFSInputStream should set thread's interrupt status after
    catching InterruptException from sleep. Contributed by Jing Zhao.

    HDFS-10468 . HDFS read ends up ignoring an interrupt. Contributed by Jing
    Zhao

    HADOOP-12416 . Trash messages should be handled by Logger instead of being
    delivered on System.out. Contributed by Mingliang Liu."

    HADOOP-13131 . Add tests to verify that S3A supports SSE-S3 encryption.
    Contributed by Steve Loughran.

    BUG-58533 . Enable CORS by default for ATS.

    HADOOP-13162 . Consider reducing number of getFileStatus calls in
    S3AFileSystem.mkdirs. (Rajesh Balamohan via stevel)

    HADOOP-12847 . hadoop daemonlog should support https and SPNEGO for
    Kerberized cluster. (Wei-Chiu Chuang via Yongjun Zhang)

    HADOOP-13098 . Dynamic LogLevel setting page should accept case-insensitive
    log level string. (Junping Du via xyao)

    HADOOP-12478 . Shell.getWinUtilsPath() has been renamed
    Shell.getWinutilsPath(). (stevel)

    HADOOP-12984 . Add GenericTestUtils.getTestDir method and use it for
    emporary directory in tests (Contributed by Steve Loughran and Vinayakumar
    B

    HADOOP-10775 . Shell operations to fail with meaningful errors on windows
    if winutils.exe not found. (stevel)

    HADOOP-12076 . Incomplete Cache Mechanism in CredentialProvider API

    HADOOP-12929 . JWTRedirectAuthenticationHandler must accommodate null
    expiration time

    HADOOP-12481 . JWTRedirectAuthenticationHandler doesn't Retain Original
    Query String

    HADOOP-11864 . JWTRedirectAuthenticationHandler breaks java8 javadocs

    HADOOP-11924 . Tolerate JDK-8047340-related exceptions in
    Shell#isSetSidAvailable preventing class init. (Tsuyoshi Ozawa via gera)

    HADOOP-12564 . Upgrade JUnit3 TestCase to JUnit 4 in org.apache.hadoop.io
    package. Contributed by Dustin Cote.

    HADOOP-13197 . Add non-decayed call metrics for DecayRpcScheduler.
    Contributed by Xiaoyu Yao.

    BUG-58161 . Fix test failures in TestLogsCLI

    HDFS-10313 . Distcp need to enforce the order of snapshot names passed to
    -diff. (Lin Yiqun via Yongjun Zhang)

    HDFS-10216 . Distcp -diff throws exception when handling relative path.
    Contributed by Takashi Ohnishi.

    HADOOP-13159 . Fix potential NPE in Metrics2 source for DecayRpcScheduler.
    Contributed by Xiaoyu Yao.

    HADOOP-1540  breaks backward compatibilty

    HDFS-9926 . MiniDFSCluster leaks dependency Mockito via DataNodeTestUtils.
    (Contributed by Josh Elser)

    HADOOP-1540 . Support file exclusion list in distcp. Contributed by Rich
    Haase.

    HADOOP-12416 . Trash messages should be handled by Logger instead of being
    delivered on System.out. Contributed by Mingliang Liu.

    HADOOP-12659 . Incorrect usage of config parameters in token manager of
    KMS. Contributed by Mingliang Liu.

    HADOOP-11692 . Improve authentication failure WARN message to avoid user
    confusion. Contributed by Yongjun Zhang.

    HDFS-10377 . CacheReplicationMonitor shutdown log message should use INFO
    level (Yiqun Lin via cmccabe)

    HDFS-10372 . Fix for failing TestFsDatasetImpl#testCleanShutdownOfVolume.
    Contributed by Rushabh Shah.

    HDFS-2043 . TestHFlush failing intermittently. Contributed by Lin Yiqun.

    HDFS-2580 . NameNode#main(...) can make use of GenericOptionsParser.
    Contributed by harsh. (harsh)

    HDFS-10347 . Namenode report bad block method doesn't log the bad block or
    datanode. Contributed by Rushabh Shah.

    HDFS-9958 . BlockManager#createLocatedBlocks can throw NPE for
    corruptBlocks on failed storages. Contributed by Kuhu Shukla.

    HDFS-10245 . Fix the findbugs warnings in branch-2.7. Contributed by Brahma
    Reddy Battula.

    HDFS-9555 . LazyPersistFileScrubber should still sleep if there are errors
    in the clear progress. Contributed by Phil Yang.

    HDFS-10319 . Balancer should not try to pair storages with different types.

    HDFS-10264 . Logging improvements in FSImageFormatProtobuf.Saver.
    (Contributed by Xiaobing Zhou)

    HDFS-10275 . TestDataNodeMetrics failing intermittently due to
    TotalWriteTime counted incorrectly. Contributed by Lin Yiqun.

    HDFS-9772 . TestBlockReplacement#testThrottler doesn't work as expected.
    Contributed by Lin Yiqun.

    HDFS-10271 . Extra bytes are getting released from reservedSpace for append
    (Contributed by Brahma Reddy Battula)

    HDFS-10186 . DirectoryScanner: Improve logs by adding full path of both
    actual and expected block directories.  Contributed by Rakesh R

    HDFS-10261 . TestBookKeeperHACheckpoints doesn't handle ephemeral HTTP
    ports. Contributed by Eric Badger.

    HDFS-10239 . Fsshell mv fails if port usage doesn't match in src and
    destination paths. Contributed by Kuhu Shukla.

    HDFS-10178 . Permanent write failures can happen if pipeline recoveries
    occur for the first packet. Contributed by Kihwal Lee.

    HDFS-10182 . Hedged read might overwrite user's buf. Contributed by
    zhouyingchao.

    HDFS-8101 . DFSClient use of non-constant DFSConfigKeys pulls in WebHDFS
    classes at runtime. Contributed by Sean Busbey. (cherry picked from commit
    3fe61e0bb0d025a6acbb754027f73f3084b2f4d1)

    HDFS-9874 . Long living DataXceiver threads cause volume shutdown to block.
    Contributed by Rushabh Shah.

    HDFS-9638  to branch-2.7. Contributed by Wei-Chiu Chuang.

    HDFS-9904 . testCheckpointCancellationDuringUpload occasionally fails.
    Contributed by Lin Yiqun.

    HDFS-9812 . Streamer threads leak if failure happens when closing
    DFSOutputStream. Contributed by Lin Yiqun.

    HDFS-9865 . TestBlockReplacement fails intermittently in trunk (Lin Yiqun
    via iwasakims)

    HDFS-9048 . DistCp documentation is out-of-dated (Daisuke Kobayashi via
    iwasakims)

    HDFS-9880 . TestDatanodeRegistration fails occasionally. Contributed by
    Kihwal Lee.

    HDFS-9766 . TestDataNodeMetrics#testDataNodeTimeSpend fails intermittently.
    Contributed by Xiao Chen.

    HDFS-9198 . Coalesce IBR processing in the NN. Contributed by Daryn Sharp.

    HDFS-9864 . Correct reference for RENEWDELEGATIONTOKEN and
    CANCELDELEGATIONTOKEN in webhdfs doc. Contributed by Brahma Reddy Battula.

    HDFS-9395 . Make HDFS audit logging consistant. Contributed by Kuhu Shukla.

    HDFS-9688 . Test the effect of nested encryption zones in HDFS downgrade.

    HDFS-4946 . Allow preferLocalNode in BlockPlacementPolicyDefault to be
    configurable. Contributed by James Kinley and Nathan Roberts.

    HDFS-8845 . DiskChecker should not traverse the entire tree (Chang Li via
    Colin P. McCabe)

    HDFS-9765 . TestBlockScanner#testVolumeIteratorWithCaching fails
    intermittently. (aajisaka)

    HDFS-9779  . TestReplicationPolicyWithNodeGroup NODE variable picks wrong
    rack value. Contributed by Kuhu Shukla.

    HDFS-9784 . Example usage is not correct in Transparent Encryption
    document. Contributed by Ohnishi Takashi.

    HDFS-9629 . Update the footer of Web UI to show year 2016 (Contributed by
    Xiao Chen and Vinayakumar B)

    HDFS-9669 . TcpPeerServer should respect ipc.server.listen.queue.size
    (Elliot Clark via cmccabe)

    HDFS-8071 .(Contributed by Tsz Wo Nicholas Sze)

    HDFS-9634 . webhdfs client side exceptions don't provide enough details.
    Contributed by Eric Payne. (cherry picked from commit
    7b70500484574a565dd8cd5c7d8b5bc7c6d91154)

    HDFS-9415 . Document dfs.cluster.administrators and
    dfs.permissions.superusergroup. (Contributed by Xiaobing Zhou)

    HDFS-9047 . Retire libwebhdfs.

    HDFS-8914 . Document HA support in the HDFS HdfsDesign.md. Contributed by
    Lars Francke.

    HDFS-9505 . HDFS Architecture documentation needs to be refreshed.
    Contributed by Masatake Iwasaki.

    HDFS-9533 . seen_txid in the shared edits directory is modified during
    bootstrapping. Contributed by Kihwal Lee. (cherry picked from commit
    5cb1e0118b173a95c1f7bdfae1e58d7833d61c26)

    HDFS-9569 's message change. (Wei-Chiu Chuang via Yongjun Zhang)

    HDFS-9569 . Log the name of the fsimage being loaded for better
    supportability. (Yongjun Zhang)

    HDFS-9516 . Truncate file fails with data dirs on multiple disks.
    Contributed by Plamen Jeliazkov.

    HDFS-9470 . Encryption zone on root not loaded from fsimage after NN
    restart. Xiao Chen via wang.

    HDFS-8615 . Correct HTTP method in WebHDFS document. Contributed by Brahma
    Reddy Battula.

    HDFS-9317 . Document fsck -blockId and -storagepolicy options in
    branch-2.7. (aajisaka)

    HDFS-9043 . Doc updation for commands in HDFS Federation (Contributed by
    J.Andreina)

    HDFS-9042 . Update document for the Storage policy name (Contributed by
    J.Andreina)

    HDFS-7314 . When the DFSClient lease cannot be renewed, abort open-for-
    write files rather than the entire DFSClient. (mingma)

    HDFS-9033 . dfsadmin -metasave prints "NaN" for cache used%. Contributed by
    Brahma Reddy Battula.

    HDFS-8852 . HDFS architecture documentation of version 2.x is outdated
    about append write support. Contributed by Ajith S.

    HDFS-8633 . Fix setting of dfs.datanode.readahead.bytes in hdfs-default.xml
    to match DFSConfigKeys. Contributed by Ray Chiang.

    HADOOP-13103  Group resolution from LDAP may fail on
    javax.naming.ServiceUnavailableException

    HADOOP-13039 . Add documentation for configuration property
    ipc.maximum.data.length (Contributed by Mingliang Liu)

    HADOOP-13052 . ChecksumFileSystem mishandles crc file permissions.
    Contributed by Daryn Sharp.

    HADOOP-13042 . Restore lost leveldbjni LICENSE and NOTICE changes.

    HADOOP-12989 . Some tests in org.apache.hadoop.fs.shell.find occasionally
    time out. Contributed by Takashi Ohnishi.

    HADOOP-12613 . TestFind.processArguments occasionally fails. (Wei-Chiu
    Chuang via stevel)

    HADOOP-12406 . Fixed AbstractMapWritable.readFields to use the thread's
    ClassLoader to load class instead of System ClassLoader. Contributed by
    Nadeem Douba.

    HADOOP-7817 . RawLocalFileSystem.append() should give FSDataOutputStream
    with accurate .getPos() (Contributed by kanaka kumar avvaru)

    HADOOP-12902 . JavaDocs for SignerSecretProvider are out-of-date in
    AuthenticationFilter. Contributed by Gabor Liptak.

    HADOOP-12559 . KMS connection failures should trigger TGT renewal.
    Contributed by Zhe Zhang.

    HADOOP-12688 . Fix deadlinks in Compatibility.md. Contributed by Gabor
    Liptak.

    HADOOP-12789 . log classpath of ApplicationClassLoader at INFO level.
    (Sangjin Lee via mingma)

    HADOOP-12872 . Fix formatting in ServiceLevelAuth.md. Contributed by Brahma
    Reddy Battula.

    HADOOP-12871 . Fix dead link to NativeLibraries.html in CommandsManual.md.
    Contributed by Brahma Reddy Battula.

    HADOOP-12870 . Fix typo admininistration in CommandsManual.md. Contributed
    by John Zhuge.

    HADOOP-9121 . InodeTree.java has redundant check for vName while throwing
    exception. Contributed by Arup Malakar.

    HADOOP-8818 . Use equals instead == in MD5MD5CRC32FileChecksum and
    TFileDumper. Contributed by Brandon Li.

    HADOOP-12800 . Copy docker directory from 2.8 to 2.7/2.6 repos to enable
    pre-commit Jenkins runs. (zhz)

    HADOOP-12810 . FileSystem#listLocatedStatus causes unnecessary RPC calls
    (Contributed by Ryan Blue)

    HADOOP-12805 . Annotate CanUnbuffer with @InterfaceAudience.Public
    (Contributed by Ted Yu)

    HADOOP-12786 . "hadoop key" command usage is not documented. Contributed by
    Xiao Chen.

    HADOOP-12792 . TestUserGroupInformation#testGetServerSideGroups fails in
    chroot. Contributed by Eric Badger (cherry picked from commit
    6f03959e4dc0bc11030fd7e30a025447a4d6948a)

    HADOOP-12773 . HBase classes fail to load with client/job classloader
    enabled (sjlee)

    HADOOP-12772 . NetworkTopologyWithNodeGroup.getNodeGroup() can loop
    infinitely for invalid 'loc' values. Contributed by Kuhu Shukla.

    HADOOP-12761 . incremental maven build is not really incremental (sjlee)

    HADOOP-12715 . TestValueQueue#testgetAtMostPolicyALL fails intermittently.
    Contributed by Xiao Chen.

    HADOOP-12736 . TestTimedOutTestsListener#testThreadDumpAndDeadlocks
    sometimes times out. Contributed by Xiao Chen.

    HADOOP-12706 . TestLocalFsFCStatistics#testStatisticsThreadLocalDataCleanUp
    times out occasionally. Contributed by Sangjin Lee and Colin Patrick McCabe
    (cherry picked from commit cdf88952599a43b1ef5adda792bfb195c7529fad)

    HADOOP-5323 . Trash documentation should describe its directory structure
    and configurations. Contributed by Weiwei Yang.

    HADOOP-12588 . Fix intermittent test failure of TestGangliaMetrics.
    Contributed by Masatake Iwasaki.

    HADOOP-12415 . Add io.netty dependency to hadoop-nfs and to hadoop-hdfs,
    needed to build Bigtop successfuly, see BIGTOP-2049

    HADOOP-12602 . TestMetricsSystemImpl#testQSize occasionally fails.
    Contributed by Masatake Iwasaki.

    HADOOP-12565 . Replace DSA with RSA for SSH key type in SingleCluster.md.
    Contributed by Mingliang Liu.

    HADOOP-12545 . Hadoop javadoc has broken links for AccessControlList,
    ImpersonationProvider, DefaultImpersonationProvider, and DistCp.
    Contributed by Arshad Mohammad.

    HADOOP-12296 . when setnetgrent returns 0 in linux, exception should be
    thrown. Contributed by Chang Li (cherry picked from commit
    b9d25c3ee2d20166d6a786c5a16cc001e249f61c)

    HADOOP-9242 . Duplicate surefire plugin config in hadoop-common.
    Contributed by Andrey Klochkov.

    HADOOP-12465 . Incorrect javadoc in WritableUtils.java. Contributed by
    Jagadesh Kiran N.

    HADOOP-12230 . hadoop-project declares duplicate, conflicting curator
    dependencies. Contributed by Rakesh R.

    HADOOP-12280 . Skip unit tests based on maven profile rather than
    NativeCodeLoader.isNativeCodeLoaded (Masatake Iwasaki via Colin P. McCabe)

    HADOOP-11491 . HarFs incorrectly declared as requiring an authority.
    (Brahma Reddy Battula via gera)

    HADOOP-11812 . Implement listLocatedStatus for ViewFileSystem to speed up
    split calculation (gera)

    HADOOP-12006 . Remove unimplemented option for  from document in
    branch-2.7. Contributed by Akira AJISAKA.

    HADOOP-12359 . hadoop fs -getmerge doc is wrong. Contributed by Jagadesh
    Kiran N.

    HADOOP-12061 . Incorrect command in single cluster setup document.
    Contributed by Kengo Seki.

    HADOOP-7139 . Allow appending to existing SequenceFiles (Contributed by
    kanaka kumar avvaru)

    HADOOP-12232 . Upgrade Tomcat dependency to 6.0.44. Contributed by Chris
    Nauroth.

    HADOOP-12058 . Fix dead links to DistCp and Hadoop Archives pages.
    Contributed by Kazuho Fujii.

    HADOOP-13008 . Add XFS Filter for UIs to Hadoop Common. Contributed by
    Larry McCay.

    HDFS-10324 . Trash directory in an encryption zone should be pre-created
    with correct permissions. Contributed by Wei-Chiu Chuang.

    HDFS-9644 . Update encryption documentation to reflect nested EZs. (zhz)

    HDFS-10344 . DistributedFileSystem#getTrashRoots should skip encryption
    zone that does not have .Trash. Contributed by Xiaoyu Yao.

    BUG-54418 . Back port and sync the code for ATS v1.5 timeline client with
    Apache version.

    c779e0c ats_v1_5_sync: remove unused TimelineEntityGroupIdPBImpl class.

    ATS_v1_5_sync: Remove the old code and prepare for the new commits on ATS
    v1.5 Writer.

    HADOOP-12985 . Support MetricsSource interface for DecayRpcScheduler
    Metrics. Contributed by Xiaoyu Yao.

    Fixed TimelineClient to retry SocketTimeoutException too. Contributed by
    Xuan Gong.

    HDFS-10253 . Fix TestRefreshCallQueue failure (Contributed by Xiaoyu Yao)

    HADOOP-12916 . Allow RPC scheduler/callqueue backoff using response times.
    Contributed by Xiaoyu Yao.

    HADOOP-12119 . hadoop fs -expunge does not work for federated namespace
    (Contributed by J.Andreina)

    HDFS-9881 . DistributedFileSystem#getTrashRoot returns incorrect path for
    encryption zones.

    HDFS-9844 . Correct path creation in getTrashRoot to handle root dir.

    HDFS-9799 . Reimplement getCurrentTrashDir to remove incompatibility. (zhz)

    HADOOP-12444  Support lazy seek in S3AInputStream. Rajesh Balamohan via
    stevel

    HADOOP-12994 . Specify PositionedReadable, add contract tests, fix
    problems. Contributed by Steve Loughran.

    HADOOP-12464 . Interrupted client may try to fail-over and retry.
    Contributed by Kihwal Lee. (cherry picked from commit
    6144e0137bb51bd04b46ea5ce42c59c2d4f7657d)

    HADOOP-12752 . Improve diagnostics/use of envvar/sysprop credential
    propagation. Contributed by Steve Loughran.

    HADOOP-12426 . Add Entry point for Kerberos health check. Contributed by
    Steve Loughran.

    HADOOP-12682 . Fix TestKMS#testKMSRestart* failure. Contributed by Wei-Chiu
    Chuang.

    HADOOP-12284 . UserGroupInformation doAs can throw misleading exception
    (Aaron Dosset via stevel)

    HADOOP-12570 . HDFS Secure Mode Documentation updates. Contributed by Arpit
    Agarwal.

    HADOOP-12851 . S3AFileSystem Uptake of
    ProviderUtils.excludeIncompatibleCredentialProviders. Contributed by Larry
    McCay.

    HDFS-9854 . Log cipher suite negotiation more verbosely. Contributed by
    Wei-Chiu Chuang.

    HADOOP-12100 . ImmutableFsPermission should not override applyUmask since
    that method doesn't modify the FsPermission (Bibin A. Chundatt via Colin P.
    McCabe)

    HADOOP-12482 . Race condition in JMX cache update. (Tony Wu via lei)

    HDFS-9797 . Log Standby exceptions thrown by RequestHedgingProxyProvider at
    DEBUG Level (Inigo Goiri via asuresh)

    HADOOP-12853 . Change WASB documentation regarding page blob support.
    Contributed by Madhumita Chakraborty.

    HADOOP-12717 . NPE when trying to rename a directory in Windows Azure
    Storage FileSystem. Contributed by Robert Yokota and Gaurav Kanade.

    HADOOP-12846 . Credential Provider Recursive Dependencies. Contributed by
    Larry McCay.

    HADOOP-12535 . Run FileSystem contract tests with hadoop-azure. Contributed
    by Madhumita Chakraborty.

    HADOOP-12520 . Use XInclude in hadoop-azure test configuration to isolate
    Azure Storage account keys for service integration tests. Contributed by
    Chris Nauroth.

    HADOOP-1026 . Logging bug in WASB causing out of index exception.
    Contributed by Duo Xu.

    HADOOP-12555 . WASB to read credentials from a credential provider.
    Contributed by Larry McCay.

    HADOOP-12794. Support additional compression levels for GzipCodec.
    Contributed by Ravi Mutyala. (cherry picked from commit
    18f9b77a321b225677ce23c503b41d21478fc4a7)

    HDFS-8828 . Utilize Snapshot diff report to build diff copy list in distcp.
    (Yufei Gu via Yongjun Zhang)

    HADOOP-11876 . Refactor code to make it more readable, minor
    maybePrintStats bug (Zoran Dimitrijevic via raviprak)

    HDFS-9612 . DistCp worker threads are not terminated after jobs are done.
    (Wei-Chiu Chuang via Yongjun Zhang)

    HADOOP-11827 . Speed-up distcp buildListing() using threadpool (Zoran
    Dimitrijevic via raviprak)

    HADOOP-11785 . Reduce the number of listStatus operation in distcp
    buildListing (Zoran Dimitrijevic via Colin P. McCabe)

    HDFS-9730 . Storage ID update does not happen when there is a layout
    change. Contributed by  Tsz Wo Nicholas Sze.

    BUG-54323 . Back port and sync the code for ATS v1.5 storage with Apache
    version.

    HDFS-7163 . WebHdfsFileSystem should retry reads according to the
    configured retry policy. Contributed by Eric Payne.

    HADOOP-12795 . KMS does not log detailed stack trace for unexpected errors.
    Contributed by Chris Nauroth.

    HADOOP-12878 . KMS SPNEGO sequence does not work with WEBHDFS. Contributed
    by Xiaoyu Yao.

    HADOOP-11031 . Design Document for Credential Provider API. Contributed by
    Larry McCay.

    HDFS-9711 . Integrate CSRF prevention filter in WebHDFS. Contributed by
    Chris Nauroth.

    HADOOP-12691 . Move files to correct location.

    BUG-50581 . TEZ-82. Add
    org.apache.hadoop.security.HttpCrossOriginFilterInitializer to the filter
    initializers list in core-default.xml

    HADOOP-12548 . Read s3a creds from a Credential Provider. Contributed by
    Larry McCay.

    HADOOP-12059 . S3Credentials should support use of CredentialProvider.
    Contributed by Sean Busbey.

    HADOOP-12780 . During WASB atomic rename handle crash when one directory
    has been renamed but not file under it. Contributed by Madhumita
    Chakraborty.

    HADOOP-12366 . expose calculated paths (aw) (cherry picked from commit
    45bb467918ce986760ba5f7a948cf016656f0e57)

    HADOOP-12758 . Extend CSRF Filter with UserAgent Checks. Contributed by
    Larry McCay.

    BUG-50581 . Enable CORS for the RM webapp by default.

    HADOOP-12691 . Add CSRF Filter for REST APIs to Hadoop Common. Contributed
    by Larry McCay.

    HADOOP-12635 . Adding Append API support for WASB. Contributed by
    Dushyanth.

    BUG-57761. HDFS-10396. Using -diff option with DistCp may get "Comparison
    method violates its general contract" exception. Contributed by Yongjun
    Zhang.

    HDFS-10623. Remove unused import of httpclient.HttpConnection from
    TestWebHdfsTokens. (Contributed by Hanisha Koneru)

    HDFS-9624. DataNode start slowly due to the initial DU command operations.
    (Lin Yiqun via wang)

    HDFS-8887. Expose storage type and storage ID in BlockLocation. (Andrew
    Wang)

    HADOOP-12700. Remove unused import in TestCompressorDecompressor.java.
    Contributed by John Zhuge.

    HDFS-9517. Fix missing @Test annotation on
    TestDistCpUtils.testUnpackAttributes (Wei-Chiu Chuang via cmccabe)

    HADOOP-12603. TestSymlinkLocalFSFileContext#testSetTimesSymlinkToDir
    occasionally fail. Contributed by Wei-Chiu Chuang.

    HADOOP-12653. Use SO_REUSEADDR to avoid getting "Address already in use"
    when using kerberos and attempting to bind to any port on the local IP
    address (cmccabe)

    HDFS-9630. DistCp minor refactoring and clean up. Contributed by Kai Zheng.

    HADOOP-12159. Move DistCpUtils#compareFs() to org.apache.hadoop.fs.FileUtil
    and fix for HA namespaces (rchiang via rkanter)

    HDFS-9584. NPE in distcp when ssl configuration file does not exist in
    class path. Contributed by Surendra Singh Lilhore.

    HADOOP-12590. TestCompressorDecompressor failing without stack traces
    (John Zhuge via stevel)

    HDFS-9493. Test o.a.h.hdfs.server.namenode.TestMetaSave fails in trunk.
    (Tony Wu via lei)

    HDFS-9626. TestBlockReplacement#testBlockReplacement fails occasionally.
    Contributed by Xiao Chen.

    HADOOP-12573. TestRPC.testClientBackOff failing. (Xiao Chen via stevel)

    HADOOP-12663. Remove Hard-Coded Values From FileSystem.java. (BELUGA BEHR
    via stevel)

    HADOOP-12675. Fix description about retention period in usage of expunge
    command. (Masatake Iwasaki via stevel)

    HDFS-9619. SimulatedFSDataset sometimes can not find blockpool for the
    correct namenode (Contributed by Wei-Chiu Chuang)

    HDFS-9605. Add links to failed volumes to explorer.html in HDFS Web UI.
    Contributed by Archana T.

    HADOOP-12604. Exception may be swallowed in KMSClientProvider. (Yongjun
    Zhang)

    HADOOP-12423. Handle failure of registering shutdownhook by
    ShutdownHookManager in static block (Contributed by Abhishek Agarwal)

    HDFS-6054. MiniQJMHACluster should not use static port to avoid binding
    failure in unit test. (Yongjun Zhang)

    HDFS-9623. Update example configuration of block state change log in
    log4j.properties. Contributed by Masatake Iwasaki.

    HDFS-9210. Fix some misuse of %n in VolumeScanner#printStats. Contributed
    by Xiaoyu Yao.

    HDFS-9566. Remove expensive 'BlocksMap#getStorages(Block b, final
    DatanodeStorage.State state)' method (Contributed by Daryn Sharp)

    HDFS-9706. Log more details in debug logs in BlockReceiver's constructor.
    (Xiao Chen via Yongjun Zhang)

    HADOOP-12731. Remove useless boxing/unboxing code. Contributed by Kousuke
    Saruta.

    HDFS-9715. Check storage ID uniqueness on datanode startup (Contributed by
    Lei (Eddy) Xu)

    HDFS-8546. Use try with resources in DataStorage and Storage.

    HADOOP-12776. Remove getaclstatus call for non-acl commands in getfacl.
    (Contributed by Brahma Reddy Battula)

    HADOOP-11218. Add TLSv1.1,TLSv1.2 to KMS, HttpFS, SSLFactory. Contributed
    by Vijay Singh.

    HADOOP-12788. OpensslAesCtrCryptoCodec should log which random number
    generator is used. Contributed by Wei-Chiu Chuang.

    HDFS-9760. WebHDFS AuthFilter cannot be configured with custom AltKerberos
    auth handler (Ryan Sasson via aw)

    HDFS-9777. Fix typos in DFSAdmin command line and documentation.(Wei-Chiu
    Chuang via umamahesh)

    HDFS-9713. DataXceiver#copyBlock should return if block is pinned.
    Contributed by Uma Maheswara Rao G.

    HDFS-9748. Avoid duplication in pendingReplications when
    addExpectedReplicasToPending is called twice. Contributed by Walter Su.

    HDFS-9739. DatanodeStorage.isValidStorageId() is broken (Contributed by
    Mingliang Liu)

    BUG-62306. Ignore
    o.a.h.security.TestLdapGroupsMapping#testLdapConnectionTimeout

    HADOOP-12817. Enable TLS v1.1 and 1.2 (rkanter)

    HDFS-6832. Fix the usage of 'hdfs namenode' command. Contributed by
    Manjunath Ballur.

    HDFS-9608. Disk IO imbalance in HDFS with heterogeneous storages.
    Contributed by Wei Zhou.

    BUG-62406. Increase timeout for TestIPC#testSerial

    HDFS-9842. dfs.datanode.balance.bandwidthPerSec should accept friendly size
    units. (Contributed by Lin Yiqun)

    HDFS-7452. skip StandbyException log for getCorruptFiles() (Contributed by
    Bramha Reddy Battula)

    HADOOP-12828. Print user when services are started. (Wei-Chiu Chuang via
    Yongjun Zhang)

    HDFS-8923. Add -source flag to balancer usage message.  Contributed by
    Chris Trezzo

    HADOOP-12622. Improve the loggings in RetryPolicies and
    RetryInvocationHandler. Contributed by Junping Du

    HADOOP-12831. LocalFS/FSOutputSummer NPEs in constructor if bytes per
    checksum set to 0 (Mingliang Liu via gtcarrera9)

    HADOOP-12849. TestSymlinkLocalFSFileSystem fails intermittently.
    Contributed by Mingliang Liu.

    HADOOP-12668. Support excluding weak Ciphers in HttpServer2 through ssl-
    server.conf. Contributed by Vijay Singh.

    HADOOP-12906. AuthenticatedURL should convert a 404/Not Found into an
    FileNotFoundException. (Steve Loughran via gtcarrera9)

    HADOOP-12895. SSLFactory#createSSLSocketFactory exception message is wrong.
    Contributed by Wei-Chiu Chuang.

    HDFS-9882. Add heartbeatsTotal in Datanode metrics. (Contributed by Hua
    Liu)

    HDFS-9521. TransferFsImage.receiveFile should account and log separate
    times for image download and fsync to disk. Contributed by Wellington
    Chevreuil

    HADOOP-10965. Print fully qualified path in CommandWithDestination error
    messages. Contributed by John Zhuge.

    HDFS-10189. PacketResponder#toString should include the downstreams for
    PacketResponderType.HAS_DOWNSTREAM_IN_PIPELINE (Joe Pallas via cmccabe)

    HADOOP-12926. lz4.c does not detect 64-bit mode properly. Contributed by
    Alan Burlison.

    HDFS-3677. dfs.namenode.edits.dir.required is missing from hdfs-
    default.xml. Contributed by Mark Yang.

    HDFS-9949. Add a test case to ensure that the DataNode does not regenerate
    its UUID when a storage directory is cleared (Harsh J via cmccabe)

    HADOOP-11404. Clarify the "expected client Kerberos principal is null"
    authorization message. Contributed by Stephen Chu

    HADOOP-12950. ShutdownHookManager should have a timeout for each of the
    Registered shutdown hook. Contributed by Xiaoyu Yao.

    HDFS-8896. DataNode object isn't GCed when shutdown, because it has GC root
    in ShutdownHookManager. Contributed by Walter Su.

    HADOOP-12886. Exclude weak ciphers in SSLFactory through ssl-server.xml.
    Contributed by Wei-Chiu Chuang.

    HDFS-9871. "Bytes Being Moved" -ve(-1 B) when cluster was already balanced.
    (Contributed by Brahma Reddy Battulla)

    HDFS-9670. DistCp throws NPE when source is root. (John Zhuge via Yongjun
    Zhang)

    HDFS-9412. getBlocks occupies FSLock and takes too long to complete.
    Contributed by He Tianyi.

    HADOOP-12993. Change ShutdownHookManger complete shutdown log from INFO to
    DEBUG. Contributed by Xiaoyu Yao.

    HDFS-10235. Last contact for Live Nodes should be relative time.
    Contributed by Brahma Reddy Battula.

    HDFS-6407. Add sorting and pagination in the datanode tab of the NN Web UI.
    Contributed by Haohui Mai.

    HDFS-8816. Improve visualization for the Datanode tab in the NN UI.
    Contributed by Haohui Mai.

    HADOOP-13368. DFSOpsCountStatistics$OpType#fromSymbol and
    s3a.Statistic#fromSymbol should be O(1) operation. Contributed by Mingliang
    Liu.

    HDFS-8131. Implement a space balanced block placement policy. Contributed
    by Liu Shaohui. (cherry picked from commit
    de30d66b2673d0344346fb985e786247ca682317)

    HADOOP-12469. distcp should not ignore the ignoreFailures option.
    Contributed by Mingliang Liu.

    HADOOP-13030. Handle special characters in passwords in KMS startup script.
    Contributed by Xiao Chen.

    HADOOP-5470. RunJar.unJar() should write the last modified time found in
    the jar entry to the uncompressed file. (Contributed by Andras Bakor)

    HDFS-10329. Bad initialisation of StringBuffer in
    RequestHedgingProxyProvider. Contributed by Lin Yiqun.

    BUG-61987. Disable flaky UT
    TestDataNodeHotSwapVolumes#testRemoveVolumeBeingWritten

    HDFS-10270. TestJMXGet:testNameNode() fails. Contributed by Gergely Novák


    BUG-62487. HDFS-9466. TestShortCircuitCache#testDataXceiverCleansUpSlotsOnFailure
    is flaky (Wei-Chiu Chuang via cmccabe)

    BUG-62488. HDFS-6533. TestBPOfferService#testBasicFunctionalitytest fails
    intermittently. (Contributed by Wei-Chiu Chuang)

    HADOOP-13249. RetryInvocationHandler need wrap InterruptedException in
    IOException when call Thread.sleep. Contributed by Zhihai Xu.

    HDFS-10481. HTTPFS server should correctly impersonate as end user to open
    file. Contributed by Xiao Chen.

    HDFS-10471. DFSAdmin#SetQuotaCommand's help msg is not correct. Contributed
    by Yiqun Lin.

    HDFS-10367. TestDFSShell.testMoveWithTargetPortEmpty fails with Address
    bind exception. Contributed by Brahma Reddy Battula.

    HDFS-10217. show 'blockScheduled' tooltip in datanodes table.

    HDFS-10417. Improve error message from checkBlockLocalPathAccess.
    Contributed by Tianyin Xu.

    HDFS-10360. DataNode may format directory and lose blocks if
    current/VERSION is missing. (Wei-Chiu Chuang via lei)

    HDFS-10410. RedundantEditLogInputStream.LOG is set to wrong class. (John
    Zhuge via lei)

    HADOOP-13146. Refactor RetryInvocationHandler. Contributed by Tsz Wo
    Nicholas Sze.

    HADOOP-12751. While using kerberos Hadoop incorrectly assumes names with
    '@' to be non-simple. (Bolke de Bruin via stevel).

    HADOOP-13079. Add -q option to Ls to print ? instead of non-printable
    characters. Contributed by John Zhuge.

    HADOOP-12043. Display warning if defaultFs is not set when running fs
    commands. Contributed by Eddy Xu.

    HADOOP-11581. Multithreaded correctness Warnings
    #org.apache.hadoop.fs.shell.Ls (Brahma Reddy Battula via aw)

    HADOOP-10971. Add -C flag to make `hadoop fs -ls` print filenames only.
    Contributed by Kengo Seki.

    HADOOP-8934. Shell command ls should include sort options (Jonathan Allen
    via aw)

    HADOOP-13213. Small Documentation bug with AuthenticatedURL in hadoop-auth.
    Contributed by Tom Ellis.

    HADOOP-12975. Add jitter to CachingGetSpaceUsed's thread (Elliott Clark via
    Colin P. McCabe)

    HADOOP-13072. WindowsGetSpaceUsed constructor should be public (Vinayakumar
    B via cmccabe)

    HADOOP-12973. Make DU pluggable. (Elliott Clark via cmccabe)

    HDFS-10525. Fix NPE in CacheReplicationMonitor#rescanCachedBlockMap (Xiao
    Chen via cmccabe)

    HADOOP-13244. o.a.h.ipc.Server#Server should honor handlerCount when
    queueSizePerHandler is specified in consturctor. Contributed by Kai Sasaki.

    HADOOP-13179. GenericOptionsParser is not thread-safe because commons-cli
    OptionBuilder is not thread-safe. (Contributed by hongbin ma)

    HADOOP-13320. Fix arguments check in documentation for WordCount v2.0.
    Contributed by niccolo becchi.

    HDFS-10589. Javadoc for HAState#HAState and HAState#setStateInternal
    contains non-existent params. Contributed by shenyinjie.

    HADOOP-12345. Pad hostname correctly in CredentialsSys.java. Contributed by
    Pradeep Nayak Udupi Kadbet.

    HADOOP-13316. Enforce Kerberos authentication for required ops in
    DelegationTokenAuthenticator. Contributed by Xiao Chen.

    HDFS-7597. DelegationTokenIdentifier should cache the TokenIdentifier to
    UGI mapping. Contributed by Daryn Sharp, Bob Hansen, and Xiao Chen.

    HDFS-10448. CacheManager#addInternal tracks bytesNeeded incorrectly when
    dealing with replication factors other than 1 (Yiqun Lin via cmccabe)

    HADOOP-12943. Add -w -r options in dfs -test command. Contributed by Weiwei
    Yang.

    HDFS-10617. PendingReconstructionBlocks.size() should be synchronized.
    Contributed by Eric Badger.

    HADOOP-13290. Appropriate use of generics in FairCallQueue. Contributed by
    Jonathan Hung.

    HADOOP-11361. Fix a race condition in MetricsSourceAdapter.updateJmxCache.
    Contributed by Vinayakumar B, Yongjun Zhang, and Brahma Reddy Battula.
    (ozawa)

    HADOOP-13315. FileContext#umask is not initialized properly. (John Zhuge
    via lei)

    HDFS-10643. HDFS namenode should always use service user (hdfs) to
    generateEncryptedKey. Contributed by Xiaoyu Yao.

    BUG-62768. TestJobListCache.testAddExisting failed as timeout. (Junping Du)

    HDFS-10660. Expose storage policy apis via HDFSAdmin interface.
    (Contributed by Rakesh R)

    HDFS-8345. Storage policy APIs must be exposed via the FileSystem
    interface. (Arpit Agarwal)

    HADOOP-11713. ViewFileSystem should support snapshot methods. Contributed
    by Rakesh R.

    HDFS-5640. Add snapshot methods to FileContext. Contributed by Rakesh R.

    BUG-62219. Fix HDP hadoop branches to not reference jetty-6.1.26.hwx.

    HDFS-10688. BPServiceActor may run into a tight loop for sending block
    report when hitting IOException. Contributed by Chen Liang.

    BUG-63171. Ignore several intermittent failures for YARN/MapReduce.
    (Junping Du)

    HADOOP-13422. ZKDelegationTokenSecretManager JaasConfig does not work well
    with other ZK users in process. Contributed by Sergey Shelukhin.

    BUG-63212. HDFS-10642.
    TestLazyPersistReplicaRecovery#testDnRestartWithSavedReplicas fails
    intermittently. (Contributed by Mingliang Liu)

    HADOOP-13382. Remove unneeded commons-httpclient dependencies from POM
    files in Hadoop and sub-projects, while adding it in to the only place it
    is still needed, hadoop-openstack.  Ported to Hortonworks HDP-2.5 by Matt
    Foley.

    HDFS-8844. TestHDFSCLI does not cleanup the test directory
    (Masatake Iwasaki via Colin P. McCabe)

    HDFS-10228. TestHDFSCLI fails. (Contributed by Akira AJISAKA)

    HDFS-8642. Make TestFileTruncate more reliable. (Contributed by Rakesh R)

    HADOOP-13434. Add quoting to Shell class. (Owen O'Malley)

    HADOOP-13467. Shell#getSignalKillCommand should use the bash builtin on
    Linux. (Arpit Agarwal)

    HADOOP-10823. TestReloadingX509TrustManager is flaky. Contributed by
    Mingliang Liu.

    BUG-64186. Disable UT org.apache.hadoop.security.TestGroupsCaching.testBackgroundRefreshCounters

    BUG-64662. HADOOP-13512. ReloadingX509TrustManager should keep reloading in
    case of exception. (Contributed by Mingliang Liu)

    BUG-64664. HADOOP-12449. TestDNS and TestNetUtils failing if no network. (stevel)

    HADOOP-13354. Update WASB driver to use the latest version (4.2.0) of SDK
    for Microsoft Azure Storage Clients. Contributed by Sivaguru Sankaridurg.

    HADOOP-13459. hadoop-azure runs several test cases repeatedly, causing
    unnecessarily long running time. Contributed by Chris Nauroth.

    HADOOP-13513. Java 1.7 support for org.apache.hadoop.fs.azure testcases.
    Contributed by Tibor Kiss.

    HADOOP-13403. AzureNativeFileSystem rename/delete performance improvements.
    Contributed by Subramanyam Pattipaka.

    MAPREDUCE-6762. ControlledJob#toString failed with NPE when job status is not successfully updated.
    Contributed by Weiwei Yang.

    BUG-64511. HDFS-9618. Fix mismatch between log level and guard in
    BlockManager#computeRecoveryWorkForBlocks (iwasakims)

    BUG-64765. HDFS-10764. Fix INodeFile#getBlocks to not return null. 
    Contributed by Arpit Agarwal.

    HDFS-9484. NNThroughputBenchmark$BlockReportStats should not send empty block reports. Contributed by Mingliang Liu.

    HDFS-10569. A bug causes OutOfIndex error in BlockListAsLongs. Contributed by Weiwei Yang.

    BUG-66193. YARN-4591. YARN Web UIs should provide a robots.txt. Junping Du.

    BUG-65466. HDFS-9276. Failed to Update HDFS Delegation Token for long running application in HA mode.
    Contributed by Liangliang Gu and John Zhuge

    BUG-65466. HADOOP-8751. NPE in Token.toString() when Token is constructed using null identifier. Contributed by kanaka kumar avvaru.

    BUG-65704. YARN-3982. container-executor parsing of container-executor.cfg
    broken in trunk and branch-2. Contributed by Varun Vasudev

    BUG-57079. HDFS-10343. BlockManager#createLocatedBlocks may return blocks on
    failed storages. Contributed by Kuhu Shukla.

    BUG-67343. HDFS-9008 was not backported correctly. Contributed by Mingliang Liu.

    BUG-67140. HADOOP-13024. Distcp with -delete feature on raw data not
    implemented. Contributed by Mavin Martin.

    BUG-66100. HADOOP-12457. [JDK8] Fix a failure of compiling common by
    javadoc. Contributed by Akira AJISAKA.

    BUG-65553. HDFS-10984. Expose nntop output as metrics. Contributed by
    Siddharth Wagle.

    BUG-67889. HADOOP-13749. KMSClientProvider combined with KeyProviderCache
    can result in wrong UGI being used. Contributed by Xiaoyu Yao.

    YARN-5476. Not existed application reported as ACCEPTED state by YarnClientImpl. Contributed by Junping Du.

    BUG-70317. HADOOP-13675. Bug in return value for delete() calls in WASB. Contributed by Dushyanth

    BUG-67226. HADOOP-13565. KerberosAuthenticationHandler#authenticate should
    not rebuild SPN based on client request. Contributed by Xiaoyu Yao.

    BUG-70518. HADOOP-13890. Maintain HTTP/host as SPNEGO SPN support and fix
    KerberosName parsing. Contributed by Xiaoyu Yao.

    YARN-5659. getPathFromYarnURL should use standard methods. Contributed by Sergey Shelukhin.

    BUG-68737. YARN-5718. TimelineClient (and other places in YARN) shouldn't over-write HDFS client retry settings which 
    could cause unexpected behavior. Contributed by Junping Du.

    BUG-68020. YARN-5551 : Ignore file backed pages from memory computation when smaps is enabled. Contributed
    by Rajesh Balamohan.

    BUG-70723. MAPREDUCE-6625. TestCLI#testGetJob fails occasionally (haibochen via rkanter).

    BUG-70718. HADOOP-13831. Correct check for error code to detect Azure
    Storage Throttling and provide retries. Contributed by Gaurav Kanade.

    HADOOP-12252. LocalDirAllocator should not throw NPE with empty string configuration. Contributed by Zhihai Xu

    HADOOP-8436. NPE In getLocalPathForWrite ( path, conf ) when the required context item is not configured. 
    Contributed by Brahma Reddy Battula. (harsh)

    HADOOP-8437. getLocalPathForWrite should throw IOException for invalid paths. Contributed by 
    Brahma Reddy Battula.

    HADOOP-10048. LocalDirAllocator should avoid holding locks while accessing the filesystem.
    Contributed by Jason Lowe.

    YARN-4990. Re-direction of a particular log file within in a container in NM UI does not redirect properly.
    Contributed by Xuan Gong.

    YARN-5524. Yarn live log aggregation does not throw if command line arg is wrong.
    Contributed by Xuan Gong.

    YARN-6011. Add a new web service to list the files on a container in AHSWebService. Contributed by Xuan Gong.

    YARN-6099. Improve webservice to list aggregated log files. Contributed by Xuan Gong.

    YARN-6126. Obtaining app logs for Running application fails with json parse error. Contributed by Xuan Gong.

    YARN-6100. Improve YARN webservice to output aggregated container logs. Contributed by Xuan Gong.

    YARN-6108. Improve AHS webservice to accept NM address as a parameter to get container logs. Contributed by Xuan Gong.

    YARN-6113. Re-direct NM Web Service to get container logs for finished applications. Contributed by Xuan Gong.

    YARN-6137. Yarn client implicitly invoke ATS client which accesses HDFS. Contributed by Li Lu. 

    YARN-6174. Log files pattern should be same for both running and finished container. Contributed by Xuan Gong.

    YARN-6228. EntityGroupFSTimelineStore should allow configurable cache stores. Contributed by Li Lu.

    BUG-71400. YARN-4393. TestResourceLocalizationService#testFailedDirsResourceRelease fails intermittently.
    Contributed by Varun Saxena.

    BUG-71401. YARN-4556. TestFifoScheduler.testResourceOverCommit fails. Contributed by Akihiro Suda.

    BUG-71401. YARN-5069. TestFifoScheduler.testResourceOverCommit race condition. Contributed by Eric Payne.

    BUG-65978. YARN-3591. Resource localization on a bad disk causes subsequent
    containers failure. Contributed by Lavkesh Lahngir.

    BUG-70511. YARN-5999. AMRMClientAsync will stop if any exceptions thrown on allocate call. Contributed by Jian He.

    BUG-60231. MAPREDUCE-6711. After enabling preemption on cluster, jobs failed without making
    any attempts made after being preempted. Contributed by Prabu Joseph.

    BUG-71745. YARN-6068. Log aggregation get failed when NM restart even with recovery. 
    Contributed by Junping Du.

    HADOOP-12056. Use DirectoryStream in DiskChecker#checkDirs to detect errors when listing a
    directory. Contributed by Zhihai Xu.

    HDFS-11307. The rpc to portmap service for NFS has hardcoded timeout. Contributed by
    Mukul Kumar Singh.

    BUG-72118. YARN-3148. Allow CORS related headers to passthrough in
    WebAppProxyServlet. Contributed by Varun Saxena.

    HDFS-11209. SNN can't checkpoint when rolling upgrade is not finalized. Contributed by Xiaoyu Yao.

    BUG-72124. MAPREDUCE-6701. application master log can not be available when clicking jobhistory's am logs
    link. Contributed by Haibo Chen.

    BUG-72151. YARN-5711. Propogate exceptions back to client when using hedging RM failover provider.
    Contributed by Subru Krishnan.
 
    BUG-72720. MAPREDUCE-6485. Create a new task attempt with failed map task
    priority if in-progress attempts are unassigned. (Xianyin Xin via
    rohithsharmaks)

    BUG-72143. MAPREDUCE-6684. High contention on scanning of user directory
    under immediate_done in Job History Server. Contributed by Haibo Chen

    BUG-72083. YARN-5353. ResourceManager can leak delegation tokens when they
    are shared across apps. (Jason Lowe via Varun Saxena).

    BUG-72122. YARN-4403. (AM/NM/Container)LivelinessMonitor should use
    monotonic time when calculating period. Contributed by Junping Du

    BUG-72140. MAPREDUCE-6797. Job history server scans can become blocked on a
    single, slow entry. Contributed by Prabhu Joseph

    BUG-72138. YARN-857. Localization failures should be available in container
    diagnostics. Contributed by  Vinod Kumar Vavilapalli.

    BUG-72034. YARN-5677. RM should transition to standby when connection is
    lost for an extended period. (Daniel Templeton via kasha)

    BUG-72155. YARN-5208. Run TestAMRMClient TestNMClient TestYarnClient
    TestClientRMTokens TestAMAuthorization tests with
    hadoop.security.token.service.use_ip enabled. (Rohith Sharma K S via wangda)

    BUG-72039. YARN-5539. TimelineClient failed to retry on
    java.net.SocketTimeoutException: Read timed out (Junping Du via Varun
    Saxena)

    BUG-72134. YARN-3387. Previous AM's container completed status couldn't pass
    to current AM if AM and RM restarted during the same time. Contributed by
    Sandflee

    BUG-72141. MAPREDUCE-6350. JobHistory doesn't support fully-functional
    search. Contributed by Siqi Li.

    BUG-72141. MAPREDUCE-6616. Fail to create jobhistory file if there are some
    multibyte characters in the job name. Contributed by Kousuke Saruta.

    BUG-72141. MAPREDUCE-6693. ArrayIndexOutOfBoundsException occurs when the
    length of the job name is equal to mapreduce.jobhistory.jobname.limit.
    Contributed by Ajith S.

    BUG-72036. YARN-5549. AMLauncher#createAMContainerLaunchContext() should not
    log the command to be launched indiscriminately. (Daniel Templeton via
    rchiang)

    BUG-72157. YARN-4767. Network issues can cause persistent RM UI outage.
    (Daniel Templeton via kasha)

    HADOOP-13207. Specify FileSystem listStatus, listFiles and RemoteIterator.
    Contributed by Steve Loughran.

    HADOOP-13324. s3a tests don't authenticate with S3 frankfurt (or other V4
    auth only endpoints). Contributed by Steve Loughran.

    HADOOP-13188 S3A file-create should throw error rather than overwrite
    directories. Contributed by Steve Loughran.

    HADOOP-13208. S3A listFiles(recursive=true) to do a bulk listObjects instead
    of walking the pseudo-tree of directories. Contributed by Steve Loughran.

    HADOOP-13389 TestS3ATemporaryCredentials.testSTS error when using IAM
    credentials. Contributed by Steven K. Wong.

    HADOOP-13252. Tune S3A provider plugin mechanism.
    Contributed by Steve Loughran.

    HADOOP-13169. Randomize file list in SimpleCopyListing.
    Contributed by Rajesh Balamohan.

    HADOOP-13599. s3a close() to be non-synchronized, so avoid risk of deadlock
    on shutdown. Contributed by Steve Loughran.

    HADOOP-13164 Optimize S3AFileSystem::deleteUnnecessaryFakeDirectories.
    Contributed by Rajesh Balamohan.

    HADOOP-13674. S3A can provide a more detailed error message when accessing a
    bucket through an incorrect S3 endpoint. Contributed by Chris Nauroth.

    HADOOP-13323. Downgrade stack trace on FS load from Warn to debug.
    Contributed by Steve Loughran.

    HADOOP-13239 Deprecate s3:// in branch-2. Contributed by Mingliang Liu.

    HADOOP-13446. Support running isolated unit tests separate from AWS
    integration tests. Contributed by Chris Nauroth.

    HADOOP-12229 Fix inconsistent subsection titles in filesystem.md.
    Contributed by Masatake Iwasaki

    HADOOP-12242. Add in-page TOC to filesystem specification pages. (iwasakims)

    HADOOP-12009. Clarify FileSystem.listStatus() sorting order & fix
    FileSystemContractBaseTest:testListStatus. backport to 2.8

    HADOOP-12977 s3a to handle delete("/", true) robustly.
    Contributed by Steve Loughran.

    HADOOP-13541 explicitly declare the Joda time version S3A depends on.
    Contributed by Stevel Loughran

    HADOOP-13692. hadoop-aws should declare explicit dependency on Jackson 2
    jars to prevent classpath conflicts. Contributed by Chris Nauroth.

    HADOOP-13405 doc for fs.s3a.acl.default indicates incorrect values.
    Contributed by Shen Yinjie

    HADOOP-13447. Refactor S3AFileSystem to support introduction of separate
    metadata repository and tests. Contributed by Chris Nauroth.

    HADOOP-13560. S3ABlockOutputStream to support huge (many GB) file writes.
    Contributed by Steve Loughran.

    HADOOP-13387 users always get told off for using S3 —even when not using it.
    Contributed by stevel.

    HADOOP-13716. Add LambdaTestUtils class for tests; fix eventual consistency
    problem in contract test setup. Contributed by Steve Loughran.

    HADOOP-13614. Purge some superfluous/obsolete S3 FS tests that are slowing
    test runs down. Contributed by Steve Loughran.

    HADOOP-12774. s3a should use UGI.getCurrentUser.getShortname() for username.
    Contributed by Steve Loughran.

    HADOOP-13309. Document S3A known limitations in file ownership and permission
    model. Contributed by Chris Nauroth.

    HADOOP-13502. Split fs.contract.is-blobstore flag into more descriptive flags
    for use by contract tests. Contributed by Chris Nauroth.

    HADOOP-13801 regression: ITestS3AMiniYarnCluster failing.
    Contributed by Steve Loughran.

    HADOOP-13830 Intermittent failure of ITestS3NContractRootDir.testRecursiveRootListing
    "Can not create a Path from an empty string".  Contributed by Steve Loughran.

    HADOOP-13680. fs.s3a.readahead.range to use getLongBytes. Contributed by Abhishek Modi.

    HADOOP-12804. Read Proxy Password from Credential Providers in S3 FileSystem.
    Contributed by Larry McCay.

    HADOOP-13823. s3a rename: fail if dest file exists. Contributed by Steve Loughran.

    HADOOP-13857. S3AUtils.translateException to map (wrapped) InterruptedExceptions to
    InterruptedIOEs. Contributed by Steve Loughran

    HADOOP-13855. Fix a couple of the s3a statistic names to be consistent with the rest.
    Contributed by Steve Loughran

    HADOOP-13871. ITestS3AInputStreamPerformance.testTimeToOpenAndReadWholeFileBlocks
    performance awful. Contributed by Steve Loughran

    HADOOP-13336 S3A to support per-bucket configuration. Contributed by Steve Loughran.

    HADOOP-13406 S3AFileSystem: Consider reusing filestatus in delete() and mkdirs().
    Contributed by Rajesh Balamohan

    HADOOP-13540 improve section on troubleshooting s3a auth problems. Contributed by Steve Loughran

    HADOOP-12667 s3a to support createNonRecursive API. Contributed by Sean Mackrory

    BUG-72150. YARN-5873. RM crashes with NPE if generic application history is
    enabled. Contributed by Varun Saxena.

    BUG-72153. YARN-4697. NM aggregation thread pool is not bound by limits (haibochen via rkanter)

    BUG-72831. YARN-5121. fix some container-executor portability issues. Contributed by Allen Wittenauer.

    BUG-72833. YARN-5456. container-executor support for FreeBSD, NetBSD, and others if conf path is absolute. 
    Contributed by Allen Wittenauer.

    BUG-73261. MAPREDUCE-6213. NullPointerException caused by job history server addr not resolvable.

    BUG-73260. MAPREDUCE-6792. Allow user's full principal name as owner of MapReduce staging directory
    in JobSubmissionFiles#JobStagingDir().

    BUG-73261. MAPREDUCE-6213. NullPointerException caused by job history server addr not resolvable.

    HADOOP-7256. Resource leak during failure scenario of closing of
    resources. Contributed by Ramkrishna S. Vasudevan. (harsh)

    BUG-68080. HDFS-11054. Suppress verbose log message in
    BlockPlacementPolicyDefault. Contributed by Chen Liang.

    YARN-4329. [YARN-5437] Allow fetching exact reason as to why a submitted app is in ACCEPTED state in
    Fair Scheduler (Contributed by Yufei Gu)

    YARN-4477. FairScheduler: Handle condition which can result in an infinite loop in attemptScheduling.
    (Tao Jie via asuresh)

    YARN-4270. Limit application resource reservation on nodes for non-node/rack specific requests (asuresh)

    YARN-3453. Ensure preemption logic in FairScheduler uses DominantResourceCalculator in DRF queues to
    prevent unnecessary thrashing. (asuresh)

    YARN-3920. FairScheduler container reservation on a node should be configurable to limit it to large 
    containers (adhoot via asuresh)

    HADOOP-13558. UserGroupInformation created from a Subject incorrectly tries to renew the Kerberos ticket.
    Contributed by Xiao Chen.

    HADOOP-13638. KMS should set UGI's Configuration object properly. Contributed by Wei-Chiu Chuang.

    HADOOP-13838. KMSTokenRenewer should close providers (xiaochen via rkanter)

    HADOOP-13988. KMSClientProvider does not work with WebHDFS and Apache Knox w/ProxyUser. Contributed by Greg Senia and Xiaoyu Yao.

    HADOOP-14029. Fix KMSClientProvider for non-secure proxyuser use case. Contributed by Xiaoyu Yao.

    HADOOP-13552. RetryInvocationHandler logs all remote exceptions. Contributed by Jason Lowe

    BUG-73598. YARN-4245. Generalize config file handling in container-executor. Contributed by Sidharta Seethana.

    BUG-72830. YARN-5704. Provide config knobs to control enabling/disabling new/work in progress features in container-executor.
    Contributed by Sidharta Seethana.

    BUG-73683/YARN-6081 LeafQueue#getTotalPendingResourcesConsideringUserLimit should deduct reserved from pending to avoid
    unnecessary preemption of reserved container. (Wangda Tan)

    BUG-73684/YARN-6123. Add a test to make sure queues of orderingPolicy will be updated when childQueues is added or removed.
    (Wangda Tan)

    HADOOP-12017. Hadoop archives command should use configurable replication
    factor when closing (Bibin A Chundatt via vinayakumarb)

    HDFS-6763. Initialize file system-wide quota once on transitioning to active
    (kihwal)

    HDFS-10763. Open files can leak permanently due to inconsistent lease
    update. Contributed by Kihwal Lee.

    HADOOP-13494. ReconfigurableBase can log sensitive information. Contributed
    by Sean Mackrory.

    HADOOP-13552. RetryInvocationHandler logs all remote exceptions. Contributed
    by Jason Lowe

    HDFS-10822. Log DataNodes in the write pipeline. John Zhuge via Lei Xu

    BUG-73036. MAPREDUCE-6789. Fix TestAMWebApp failure. 
    Contributed by Daniel Templeton.

    BUG-54183. MAPREDUCE-6338. MR AppMaster does not honor ephemeral port range.
    Contributed by Frank Nguyen.

    BUG-74303. HADOOP-12097. Allow port range to be specified while starting webapp.
    Contributed by Varun Saxena.

    BUG-74303. MAPREDUCE-6404. Allow AM to specify a port range for starting its webapp.
    Contributed by Varun Saxena.

    BUG-72030. YARN-6029. CapacityScheduler deadlock when ParentQueue#getQueueUserAclInfo is called by one thread 
    and LeafQueue#assignContainers is releasing excessive reserved container by another thread. (wangda)

    BUG-74770. HADOOP-14055. SwiftRestClient includes pass length in exception
    if auth fails. Contributed by Marcell Hegedus.

    BUG-73967. YARN-1993. Cross-site scripting vulnerability in TextView.java.
    Contributed byKenji Kikushima.

    BUG-73038. Increase AM_STATE_WAIT_TIMEOUT_MS in UnmanagedAMLauncher from 10 seconds
    to 20 seconds for UT failures in TestUnmanagedAMLauncher.testUMALauncher.

    BUG-73760. TestStreamingStatus UT fails, ignore the test.

    BUG-73035. Skip TestUberAM#testSleepJobWithMultipleReducers which failed intermitently in slow environment.

    HADOOP-13433 Race in UGI.reloginFromKeytab. (Duo Zhang via xiao)

    CUST-221/YARN-6145. Improve log message on fail over. Contributed by Jian He.

    HADOOP-12054. RPC client should not retry for InvalidToken exceptions. 
    (Contributed by Varun Saxena)

    BUG-75000. HDFS-11391. Numeric usernames do no work with WebHDFS FS write
    access. (Pierre Villard via Yongjun Zhang)

    BUG-74972. YARN-3589. RM and AH web UI display DOCTYPE wrongly. Contributed
    by Rohith Sharma K S.

    BUG-75289. HADOOP-14019. Fix some typos in the s3a docs. Contributed by
    Steve Loughran.

    BUG-72031. YARN-5773. RM recovery too slow due to
    LeafQueue#activateApplications (Bibin A Chundatt via Varun Saxena)

    BUG-73761. Fix Fair scheduler UT fails.

    BUG-75453. testReservationAPIs UT fails. (wangda)

    BUG-75457. NM web server related UT fails with "NMWebapps failed to start."

    BUG-75455. HDFS-10499. TestNameNodeMetadataConsistency#testGenerationStampInFuture
    Fails Intermittently. Contributed by Yiqun Lin.

    BUG-74601. HDFS-10763. Open files can leak permanently due to inconsistent lease update
    
    BUG-72332. TestTrashWithSecureEncryptionZones diverged from HDFS-10906

    BUG-71848. MAPREDUCE-6724. Single shuffle to memory must not exceed
    Integer#MAX_VALUE. (Haibo Chen via gera)

    BUG-72913. Make RM registry work with zk in security

    BUG-75434. HADOOP-14081 S3A: Consider avoiding array copy in
    S3ABlockOutputStream (ByteArrayBlock). Contributed by Rajesh Balamohan

    HADOOP-13826. S3A Deadlock in multipart copy due to thread pool limits.
    Contributed by  Sean Mackrory.

    BUG-73570. HADOOP-14028. S3A BlockOutputStreams doesn't delete temporary
    files in multipart uploads or handle part upload failures.
    Contributed by Steve Loughran.

    BUG-63914. YARN-6189. ApplicationNotFoundException due to RM failed over
    should throw more user friendly exception.
    Contributed by Junping Du.

    BUG-76349. HADOOP-14138 Remove S3A ref from META-INF service discovery,
    rely on existing core-default entry. Contributed by Steve Loughran.

    BUG-76323/YARN-6270. WebUtils.getRMWebAppURLWithScheme() needs to honor RM
    HA setting. Contributed by Xuan Gong

    BUG-76643. HADOOP-14048. REDO operation of WASB#AtomicRename should create
    placeholder blob for destination folder. Contributed by NITIN VERMA

    BUG-76739. HADOOP-14150. Implement getHomeDirectory() method in
    NativeAzureFileSystem. Contributed by Santhosh G Nayak

    BUG-76956. HDFS-11461. DataNode Disk Outlier Detection. Contributed by
    Hanisha Koneru.

    BUG-76957. HDFS-11477. Simplify file IO profiling configuration.
    Contributed by Hanisha Koneru.

    BUG-76108. HDFS-10330. Add Corrupt Blocks Information in Metasave output.

    BUG-76108. HDFS-10342. BlockManager#createLocatedBlocks should not check
    corrupt replicas if none are corrupt.

    BUG-76935. YARN-6314. Potential infinite redirection on YARN log redirection
    web service. Contributed by Xuan Gong.

    BUG-76819. YARN-6313. yarn logs cli should provide logs for a completed 
    container even when application is still running. Contributed by Xuan Gong.

    YARN-6367. YARN logs CLI needs alway check containerLogsInfo/containerLogInfo before
    parse the JSON object from NMWebService. Contributed by Xuan Gong.

    BUG-77222. Encryption related security hole during localization by Junping Du.

    HDFS-11533. reuseAddress option should be used for child channels in Portmap and SimpleTcpServer. Contributed by Mukul Kumar Singh.

    BUG-76734 Attach RMRegistryService handler to correct dispatcher for RMStateStore events

    YARN-6332. Make RegistrySecurity use short user names for ZK ACLs. Contributed by Billie Rinaldi

    BUG-77590. HDFS-11517. Expose slow disks via DataNode JMX.

    BUG-77623. HADOOP-14214. DomainSocketWatcher::add()/delete() should not
    self interrupt while looping await(). Contributed by Mingliang Liu

    BUG-78029. WASB: WasbRemoteCallHelper should use String equals for
    comparison. Contributed by Santhosh Nayak

    BUG-73258. YARN-5915. ATS 1.5 FileSystemTimelineWriter causes flush() to be
    called after every event write.

    BUG-74682. MAPREDUCE-6852. Job#updateStatus() failed with NPE due to race
    condition. Contributed by Junping Du.
    BUG-78180: Add fenton log enhancement work related jira into HDP-CHANGES.txt
    
    BUG-77461. HDFS-11292. log lastWrittenTxId etc info in logSyncAll. Contributed by Yongjun Zhang.
    
    hwxmonarch.atlassian.net/browse/HADOOP-1062 added hadoop-azure-datalake and azure-data-lake-store-sdk to all the wasb locations.
    
    BUG-74308. HDFS-11395. RequestHedgingProxyProvider#RequestHedgingInvocationHandler hides the Exception thrown from NameNode. Contributed by Nandakumar.
    
    HDFS-10962. TestRequestHedgingProxyProvider is flaky.
    
    HDFS-11508. Fix bind failure in SimpleTCPServer & Portmap where bind fails because socket is in TIME_WAIT state. Contributed by Mukul Kumar Singh.
    
    BUG-76301. Make SliderClient work with zk registry in secure mode
    
    HDFS-11479. Socket re-use address option should be used in SimpleUdpServer. Contributed by Mukul Kumar Singh.
    
    BUG-75491. Make RegistrySecurity use short user name for zk sasl
    
    BUG-75506. HDFS-10301. Remove FBR tracking state to fix false zombie storage detection for interleaving block reports. Contributed by Vinitha Gankidi.
    
    HDFS-11462. Fix occasional BindException in TestNameNodeMetricsLogger.
    
    HADOOP-12404. Disable caching for JarURLConnection to avoid sharing JarFile with other users when loading resource from URL in Configuration class. Contributed by Zhihai Xu
    
    HDFS-9038. DFS reserved space is erroneously counted towards non-DFS used. (Brahma Reddy Battula)
    
    HADOOP-12386. RetryPolicies.RETRY_FOREVER should be able to specify a retry interval. (Sunil G via wangda)
    
    BUG-75788. Backport part of HADOOP-13226 to fix retry on EOFException and HADOOP-14116. (jianhe)
    
    BUG-75456: Few TestSecureRMRegistryOperations UT fails
    
    HADOOP-14100. Upgrade Jsch jar to latest version to fix vulnerability in old versions. Contributed by Vinayakumar B
    
    backport HDFS-11409, change DatanodeInfo#location to volatile
    
    backport HDFS-11409, change DatanodeInfo#location to volatile
    
    backport HDFS-11409, change DatanodeInfo#location to volatile
    
    BUG-70172: reuse socket address option wasnt honoured because option was set after socket bind
    
    BUG-72239: Fix config fields in TestCommonConfigurationFields
    
    HDFS-11403. Zookeper ACLs on NN HA enabled clusters should be handled consistently. Contributed by Hanisha Koneru.
    
    HDFS-11379. DFSInputStream may infinite loop requesting block locations. Contributed by Daryn Sharp.
    
    HADOOP-12185. NetworkTopology is not efficient adding/getting/removing nodes. Contributed by Inigo Goiri (cherry picked from commit 47a69ec7a5417cb56b75d07184dd6888ff068302)
    
    HDFS-10423. Increase default value of httpfs maxHttpHeaderSize. Contributed by Nicolae Popa.
    
    HADOOP-13353. LdapGroupsMapping getPassward shouldn't return null when IOException throws. Contributed by Zhaohao Liang and Wei-Chiu Chuang.
    
    HDFS-11197. Listing encryption zones fails when deleting a EZ that is on a snapshotted directory. Contributed by Wellington Chevreuil.
    
    HDFS-11224. Lifeline message should be ignored for dead nodes (Contributed by Vinayakumar B)
    
    HDFS-10655. Fix path related byte array conversion bugs. (daryn)
    
    HDFS-10653. Optimize conversion from path string to components. Contributed by Daryn Sharp.
    
    HDFS-10716. In Balancer, the target task should be removed when its size < 0.  Contributed by Yiqun Lin
    
    HDFS-10963. Reduce log level when network topology cannot find enough datanodes. Contributed by Xiao chen
    
    HDFS-10956. Remove rename/delete performance penalty when not using snapshots.
    
    HDFS-10713. Throttle FsNameSystem lock warnings.
    
    HDFS-10817. Add Logging for Long-held NN Read Locks. Contributed by Erik Krogen.
    
    HDFS-10798. Make the threshold of reporting FSNamesystem lock contention configurable. Contributed by Erik Krogen.
    
    HDFS-9467. Fix data race accessing writeLockHeldTimeStamp in FSNamesystem. Contributed by Mingliang Liu.
    
    HDFS-9145. Tracking methods that hold FSNamesytemLock for too long. Contributed by Mingliang Liu.
    
    HADOOP-13535. Add jetty6 acceptor startup issue workaround to branch-2. Contributed by Min Shen.
    
    HADOOP-12765. HttpServer2 should switch to using the non-blocking SslSelectChannelConnector to prevent performance degradation when handling SSL connections. Contributed by Min Shen. Branch-2 patch contributed by Wei-Chiu Chuang.
    
    HDFS-9781. FsDatasetImpl#getBlockReports can occasionally throw NullPointerException. Contributed by Manoj Govindassamy.
    
    HDFS-10715. NPE when applying AvailableSpaceBlockPlacementPolicy.
    
    HDFS-10320. Rack failures may result in NN terminate. (Xiao Chen via mingma)
    
    HDFS-8946. Improve choosing datanode storage for block placement. (yliu)
    
    HDFS-8884. Fail-fast check in BlockPlacementPolicyDefault#chooseTarget.
    
    HDFS-11267. Avoid redefinition of storageDirs in NNStorage and cleanup its accessors in Storage. (Manoj Govindassamy via lei)
    
    HDFS-11251. ConcurrentModificationException during DataNode#refreshVolumes
    
    HDFS-8674. Improve performance of postponed block scans. Contributed by Daryn Sharp.
    
    HDFS-8792. BlockManager#postponedMisreplicatedBlocks should use a LightWeightHashSet to save memory (Yi Liu via Colin P. McCabe)
    
    BUG-72239. Common configuration UT fails. Contributed by Mukul Kumar Singh.
    
    HDFS-6184. Capture NN's thread dump when it fails over. Contributed by Ming Ma
    
    HDFS-11387. Socket reuse address option is not honored in PrivilegedNfsGatewayStarter. Contributed by Mukul Kumar Singh.
    
    fixing BUG-66651 by backporting HDFS-4176
    
    fixing BUG-66652 by backporting HDFS-5356 and HDFS-7553
    
    BUG-68533. HDFS-11112. Journal Nodes should refuse to format non-empty directories. Contributed by Yiqun Lin.
    
    BUG-71582. HDFS-8492. DN should notify NN when client requests a missing block (Contributed by Walter Su)
    
    BUG-68077. HDFS-10301. BlockReport retransmissions may lead to storages falsely being declared zombie if storage report processing happens out of order
    
    HDFS-4176. EditLogTailer should call rollEdits with a timeout. (lei)
    
    HDFS-7964. Add support for async edit logging. Contributed by Daryn Sharp.
    
    HADOOP-12483. Maintain wrapped SASL ordering for postponed IPC responses. (Daryn Sharp via yliu)
    
    HDFS-3918. EditLogTailer shouldn't log WARN when other node is in standby mode. Contributed by Todd Lipcon.
    
    HDFS-10512. VolumeScanner may terminate due to NPE in DataNode.reportBadBlocks.
    
    HDFS-11280. Allow WebHDFS to reuse HTTP connections to NN. Contributed by Zheng Shao.
    
    HDFS-10684. WebHDFS DataNode calls fail without parameter createparent. Contributed by John Zhuge.
    
    HADOOP-13847. KMSWebApp should close KeyProviderCryptoExtension. Contributed by John Zhuge.
    
    HADOOP-13742. Expose NumOpenConnectionsPerUser as a metric. Brahma Reddy Battula.
    
    HADOOP-13822. Use GlobalStorageStatistics.INSTANCE.reset() at FileSystem#clearStatistics(). Contribute by Brahma Reddy Battula
    
    HDFS-11128. CreateEditsLog throws NullPointerException. Contributed by Hanisha Koneru.
    
    HADOOP-12453. Support decoding KMS Delegation Token with its own Identifier. Contributed by Xiaoyu Yao.
    
    HDFS-10752. Several log refactoring/improvement suggestion in HDFS. Contributed by Hanisha Koneru.
    
    HADOOP-13710. Supress CachingGetSpaceUsed from logging interrupted exception stacktrace. Contributed by Hanisha Koneru.
    
    HDFS-9696. Garbage snapshot records linger forever. Contributed by Kihwal Lee
    
    HADOOP-13461. NPE in KeyProvider.rollNewVersion. Contributed by Colm O hEigeartaigh.
    
    HDFS-8224. Schedule a block for scanning if its metadata file is corrupt. Contributed by Rushabh S Shah.
    
    HADOOP-13299. JMXJsonServlet is vulnerable to TRACE. (Haibo Chen via kasha)
    
    HDFS-10457. DataNode should not auto-format block pool directory if VERSION is missing. (Wei-Chiu Chuang via lei)
    
    HADOOP-13466. Add an AutoCloseableLock class. (Chen Liang)
    
    HADOOP-13443. KMS should check the type of underlying keyprovider of KeyProviderExtension before falling back to default. Contributed by Anthony Young-Garner.
    
    HADOOP-13458. LoadBalancingKMSClientProvider#doOp should log IOException stacktrace. Contributed by Chen Liang.
    
    HDFS-10710. In BlockManager#rescanPostponedMisreplicatedBlocks(), postponed misreplicated block counts should be retrieved within the NN lock protection.Contributed by GAO Rui.
    
    HDFS-10703. HA NameNode Web UI should show last checkpoint time. (John Zhuge via Yongjun Zhang)
    
    HDFS-10225. DataNode hot swap drives should disallow storage type changes. Contributed by Lei (Eddy) Xu.
    
    HADOOP-13202. Avoid possible overflow in org.apache.hadoop.util.bloom.BloomFilter#getNBytes. Contributed by Kai Sasaki.
    
    HDFS-10544. Balancer doesn't work with IPFailoverProxyProvider.
    
    BUG-71589. HDFS-10966. Enhance Dispatcher logic on deciding when to give up a source DataNode. Contributed by Mark Wagner and Zhe Zhang.
    
    BUG-73093. HDFS-11195. Return error when appending files by webhdfs rest api fails.
    
    BUG-73092. HDFS-11258. File mtime change could not save to editlog. Contributed by Jimmy Xiang.
    
    BUG-73096. HDFS-11263. ClassCastException when we use Bzipcodec for Fsimage compression. Contributed by Brahma Reddy Battula.
    
    BUG-71587. HDFS-11087. NamenodeFsck should check if the output writer is still writable. Contributed by Erik Krogen.
    
    BUG-73091. HADOOP-13824. FsShell can suppress the real error if no error message is present. Contributed by  John Zhuge.
    
    BUG-73091. HADOOP-12442. Display help if the command option to 'hdfs dfs' is not valid (Contributed by nijel)
    
    BUG-71586. HADOOP-13590. Retry until TGT expires even if the UGI renewal thread encountered exception.
    
    BUG-71586. HADOOP-7930. Kerberos relogin interval in UserGroupInformation should be configurable (xiaochen via rkanter)
    
    BUG-71585. HDFS-10455. Logging the username when deny the setOwner operation. Contributed by Tianyin Xiu
    
    BUG-73084. HDFS-11003. Expose XmitsInProgress through DataNodeMXBean. Contributed By Brahma Reddy Battula
    
    BUG-73085. HDFS-10735 Distcp using webhdfs on secure HA clusters fails with StandbyException
    
    BUG-71583. HDFS-11069. Tighten the authorization of datanode RPC. Contributed by Kihwal Lee
    
    BUG-73088. HADOOP-13792. Stackoverflow for schemeless defaultFS with trailing slash. Contributed by John Zhuge
    
    BUG-71591. HDFS-11180. Intermittent deadlock in NameNode when failover happens.
    
    BUG-68047. HDFS-10609. Uncaught InvalidEncryptionKeyException during pipeline recovery may abort downstream applications. Contributed by Wei-Chiu Chuang.
    
    BUG-71577. HDFS-10987. Make Decommission less expensive when lot of blocks present. Contributed by Brahma Reddy Battula.
    
    BUG-73083. HADOOP-13707. If kerberos is enabled while HTTP SPNEGO is not configured, some links cannot be accessed. Contributed by Yuanbo Liu.
    
    BUG-71580. HDFS-11015. Enforce timeout in balancer. Contributed by Kihwal Lee.
    
    BUG-71590. HADOOP-13018. Make Kdiag check whether hadoop.token.files points to existent and valid files. Contributed by Ravi Prakash
    
    BUG-71590. HDFS-9525. hadoop utilities need to support provided delegation tokens. Contributed by HeeSoo Kim
    
    BUG-68699. HDFS-11047. Remove deep copies of FinalizedReplica to alleviate heap consumption on DataNode. Contributed by Xiaobing Zhou
    
    BUG-71579. HDFS-11018. Incorrect check and message in FsDatasetImpl#invalidate. Contributed by Yiqun Lin.
    
    BUG-71579. HDFS-9947. Block#toString should not output information from derived classes (cmccabe)
    
    BUG-71579. HDFS-9350. Avoid creating temprorary strings in Block.toString() and getBlockName() (Staffan Friberg via cmccabe)
    
    BUG-71579. HDFS-7284. Add more debug info to BlockInfoUnderConstruction#setGenerationStampAndVerifyReplicas. (Wei-Chiu Chuang via Yongjun Zhang)
    
    BUG-71584. HDFS-9500. Fix software version counts for DataNodes during rolling upgrade. Contributed by Erik Krogen.
    
    BUG-68046. HADOOP-11780. Prevent IPC reader thread death. Contributed by Daryn Sharp.
    
    BUG-68700. Remove deep copies of FinalizedReplica to alleviate heap consumption on DataNode
    
    HDFS-8247. TestDiskspaceQuotaUpdate#testAppendOverTypeQuota is failing. Contributed by Xiaoyu Yao.
    
    Disable TestRollingUpgrade#testRollback for BUG-71399.
    
    fixing BUG-71395 by backporting HDFS-8231
    
    BUG-71398. testCompareXmlAgainstConfigurationClass UT fix
    
    HDFS-11369. Change exception message in StorageLocationChecker.
    
    HDFS-11182. Addendum fix for Fenton to fix a unit test.
    
    HDFS-11194. Maintain aggregated peer performance metrics on NameNode.
    
    HDFS-11056. Addendum fix for self-healing branch.
    
    HDFS-9251. Refactor TestWriteToReplica and TestFsDatasetImpl to avoid explicitly creating Files in the tests code. (lei)
    
    HDFS-9148. Incorrect assert message in TestWriteToReplica#testWriteToTemporary (Tony Wu via Lei (Eddy) Xu)
    
    HDFS-10279. Improve validation of the configured number of tolerated failed volumes. Contributed by Lin Yiqun.
    
    HDFS-11339. Support File IO sampling for Datanode IO profiling hooks. Contributed by Hanisha Koneru.
    
    HDFS-11299. Support multiple Datanode File IO hooks. Contributed by Hanisha Koneru.
    
    HDFS-11282. Document the missing metrics of DataNode Volume IO operations. Contributed by Yiqun Lin.
    
    HDFS-10917. Collect peer performance statistics on DataNode. Contributed by Xiaobing Zhou.
    
    HADOOP-13804. MutableStat mean loses accuracy if add(long, long) is used. Contributed by Erik Krogen.
    
    HADOOP-13782. Make MutableRates metrics thread-local write, aggregate-on-read. Contributed by Erik Krogen.
    
    HDFS-10913. Introduce fault injectors to simulate slow mirrors. Contributed by Xiaobing Zhou.
    
    HDFS-11279. Cleanup unused DataNode#checkDiskErrorAsync(). Contributed by Hanisha Koneru.
    
    HDFS-11274. Datanode should only check the failed volume upon IO errors. Contributed by Xiaoyu Yao.
    
    HDFS-11182. Update DataNode to use DatasetVolumeChecker.
    
    HDFS-10959. Update DataNode to use DatasetVolumeChecker. Contributed by Xiaoyu Yao.
    
    HDFS-11337. (HDFS-10958 backport). Add instrumentation hooks around Datanode disk IO.
    
    HDFS-11253. FileInputStream leak on failure path in BlockSender. Contributed by Arpit Agarwal
    
    HDFS-10930. Refactor: Wrap Datanode IO related operations. Contributed by Xiaoyu Yao.
    
    HDFS-10627. Volume Scanner marks a block as "suspect" even if the exception is network-related. Contributed by Rushabh S Shah.
    
    HDFS-8859. Improve DataNode ReplicaMap memory footprint to save about 45%. (yliu)
    
    HDFS-8573. Move creation of restartMeta file logic from BlockReceiver to ReplicaInPipeline. Contributed by Eddy Xu.
    
    HDFS-9701. DN may deadlock when hot-swapping under load. (Xiao Chen via lei)
    
    HDFS-9264. Minor cleanup of operations on FsVolumeList#volumes.  (Walter Su via lei)
    
    HDFS-9589. Block files which have been hardlinked should be duplicated before the DataNode appends to the them (cmccabe)
    
    HDFS-8860. Remove unused Replica copyOnWrite code (Lei (Eddy) Xu via Colin P. McCabe)
    
    HDFS-11149. Fix build break.
    
    HDFS-11149. Support for parallel checking of FsVolumes.
    
    HDFS-11160. VolumeScanner reports write-in-progress replicas as corrupt incorrectly. Contributed by Wei-Chiu Chuang and Yongjun Zhang.
    
    HDFS-11229. HDFS-11056 failed to close meta file. Contributed by Wei-Chiu Chuang.
    
    HDFS-11056. Concurrent append and read operations lead to checksum error. Contributed by Wei-Chiu Chuang.
    
    HDFS-10625. VolumeScanner to report why a block is found bad. Contributed by Rushabh S Shah and Yiqun Lin.
    
    HADOOP-13254. Create framework for configurable disk checkers (yufeigu via rkanter)
    
    HDFS-7758. Retire FsDatasetSpi#getVolumes() and use FsDatasetSpi#getVolumeRefs() instead (Lei (Eddy) Xu via Colin P. McCabe)
    
    HDFS-11148. Update DataNode to use StorageLocationChecker at startup.
    
    HDFS-11119. Support for parallel checking of StorageLocations on DataNode startup.
    
    HADOOP-13738. DiskChecker should perform some disk IO.
    
    HADOOP-13737. Cleanup DiskChecker interface. Contributed by Arpit Agarwal.
    
    BUG-70172: Log portnumber in PrivilegedNfsGatewayStarter
    
    BUG-67229. HADOOP-13727. S3A: Reduce high number of connections to EC2 Instance Metadata Service caused by InstanceProfileCredentialsProvider. Contributed by Chris Nauroth.
    
    HADOOP-13735 ITestS3AFileContextStatistics.testStatistics() failing. Contributed by Pieter Reuse
    
    BUG-71814. Reduce verbosity of "READ not supported in standby"
    
    BUG-72244. HDFS-11114. Support for running async disk checks in DataNode.
    
    BUG-70517. Disable testDnRestartWithSavedReplicas and listStatusReturnsAsExpected.
    
    HADOOP-12954. Add a way to change hadoop.security.token.service.use_ip (rkanter)
    
    HDFS-10757. KMSClientProvider combined with KeyProviderCache can result in wrong UGI being used. Contributed by Xiaoyu Yao.
    
    BUG-43975. YARN-4113. RM should respect retry-interval when uses RetryPolicies.RETRY_FOREVER. (Sunil G via wangda)

    BUG-68611. YARN-5923. Unable to access logs for a running application if YARN_ACL_ENABLE is enabled. Contributed by Xuan Gong.

    BUG-77128. some LLAP logs are lost from aggregation on HCube. Gour Saha.

    YARN-5206. RegistrySecurity includes id:pass in exception text if considered invalid. Contributed by Steve Loughran.

    HDFS-10793. Fix HdfsAuditLogger binary incompatibility introduced by HDFS-9184.
    HDFS-9700. BUG-60868. DFSClient and DFSOutputStream should set TCP_NODELAY on sockets for DataTransferProtocol. (Gary Helmling)

    HADOOP-13381. KMS clients should use KMS Delegation Tokens from current UGI. Contributed by Xiao Chen.

    HADOOP-13212 Provide an option to set the socket buffers in S3AFileSystem (Rajesh Balamohan)

    HADOOP-13139 Branch-2: S3a to use thread pool that blocks clients. Contributed by Pieter Reuse.

    HADOOP-12634. Change Lazy Rename Pending Operation Completion of WASB to address case of potential data loss due to partial copy. Contributed by Gaurav Kanade.
    HADOOP-12617. SPNEGO authentication request to non-default realm gets default realm name inserted in target server principal

    HADOOP-12158. Improve error message in TestCryptoStreamsWithOpensslAesCtrCryptoCodec when OpenSSL is not installed.
